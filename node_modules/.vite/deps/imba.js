import "./chunk-RSJERJUL.js";

// node_modules/imba/dist/imba.mjs
var jl = Object.create;
var Is = Object.defineProperty;
var ql = Object.getOwnPropertyDescriptor;
var zl = Object.getOwnPropertyNames;
var Vl = Object.getPrototypeOf;
var Kl = Object.prototype.hasOwnProperty;
var Ul = (i, t) => () => (t || i((t = { exports: {} }).exports, t), t.exports);
var Bl = (i, t, e, r) => {
  if (t && typeof t == "object" || typeof t == "function")
    for (let s of zl(t))
      !Kl.call(i, s) && s !== e && Is(i, s, { get: () => t[s], enumerable: !(r = ql(t, s)) || r.enumerable });
  return i;
};
var Hl = (i, t, e) => (e = i != null ? jl(Vl(i)) : {}, Bl(t || !i || !i.__esModule ? Is(e, "default", { value: i, enumerable: true }) : e, i));
var rl = Ul(($c, Gi) => {
  "use strict";
  var Ft = typeof Reflect == "object" ? Reflect : null, Yo = Ft && typeof Ft.apply == "function" ? Ft.apply : function(t, e, r) {
    return Function.prototype.apply.call(t, e, r);
  }, nr;
  Ft && typeof Ft.ownKeys == "function" ? nr = Ft.ownKeys : Object.getOwnPropertySymbols ? nr = function(t) {
    return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t));
  } : nr = function(t) {
    return Object.getOwnPropertyNames(t);
  };
  function Ju(i) {
    console && console.warn && console.warn(i);
  }
  var Go = Number.isNaN || function(t) {
    return t !== t;
  };
  function x() {
    x.init.call(this);
  }
  Gi.exports = x;
  Gi.exports.once = ra;
  x.EventEmitter = x;
  x.prototype._events = void 0;
  x.prototype._eventsCount = 0;
  x.prototype._maxListeners = void 0;
  var Wo = 10;
  function or(i) {
    if (typeof i != "function")
      throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof i);
  }
  Object.defineProperty(x, "defaultMaxListeners", { enumerable: true, get: function() {
    return Wo;
  }, set: function(i) {
    if (typeof i != "number" || i < 0 || Go(i))
      throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + i + ".");
    Wo = i;
  } });
  x.init = function() {
    (this._events === void 0 || this._events === Object.getPrototypeOf(this)._events) && (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
  };
  x.prototype.setMaxListeners = function(t) {
    if (typeof t != "number" || t < 0 || Go(t))
      throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + t + ".");
    return this._maxListeners = t, this;
  };
  function Xo(i) {
    return i._maxListeners === void 0 ? x.defaultMaxListeners : i._maxListeners;
  }
  x.prototype.getMaxListeners = function() {
    return Xo(this);
  };
  x.prototype.emit = function(t) {
    for (var e = [], r = 1; r < arguments.length; r++)
      e.push(arguments[r]);
    var s = t === "error", n = this._events;
    if (n !== void 0)
      s = s && n.error === void 0;
    else if (!s)
      return false;
    if (s) {
      var o;
      if (e.length > 0 && (o = e[0]), o instanceof Error)
        throw o;
      var l = new Error("Unhandled error." + (o ? " (" + o.message + ")" : ""));
      throw l.context = o, l;
    }
    var h = n[t];
    if (h === void 0)
      return false;
    if (typeof h == "function")
      Yo(h, this, e);
    else
      for (var u = h.length, c = el(h, u), r = 0; r < u; ++r)
        Yo(c[r], this, e);
    return true;
  };
  function Qo(i, t, e, r) {
    var s, n, o;
    if (or(e), n = i._events, n === void 0 ? (n = i._events = /* @__PURE__ */ Object.create(null), i._eventsCount = 0) : (n.newListener !== void 0 && (i.emit("newListener", t, e.listener ? e.listener : e), n = i._events), o = n[t]), o === void 0)
      o = n[t] = e, ++i._eventsCount;
    else if (typeof o == "function" ? o = n[t] = r ? [e, o] : [o, e] : r ? o.unshift(e) : o.push(e), s = Xo(i), s > 0 && o.length > s && !o.warned) {
      o.warned = true;
      var l = new Error("Possible EventEmitter memory leak detected. " + o.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit");
      l.name = "MaxListenersExceededWarning", l.emitter = i, l.type = t, l.count = o.length, Ju(l);
    }
    return i;
  }
  x.prototype.addListener = function(t, e) {
    return Qo(this, t, e, false);
  };
  x.prototype.on = x.prototype.addListener;
  x.prototype.prependListener = function(t, e) {
    return Qo(this, t, e, true);
  };
  function Zu() {
    if (!this.fired)
      return this.target.removeListener(this.type, this.wrapFn), this.fired = true, arguments.length === 0 ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);
  }
  function Jo(i, t, e) {
    var r = { fired: false, wrapFn: void 0, target: i, type: t, listener: e }, s = Zu.bind(r);
    return s.listener = e, r.wrapFn = s, s;
  }
  x.prototype.once = function(t, e) {
    return or(e), this.on(t, Jo(this, t, e)), this;
  };
  x.prototype.prependOnceListener = function(t, e) {
    return or(e), this.prependListener(t, Jo(this, t, e)), this;
  };
  x.prototype.removeListener = function(t, e) {
    var r, s, n, o, l;
    if (or(e), s = this._events, s === void 0)
      return this;
    if (r = s[t], r === void 0)
      return this;
    if (r === e || r.listener === e)
      --this._eventsCount === 0 ? this._events = /* @__PURE__ */ Object.create(null) : (delete s[t], s.removeListener && this.emit("removeListener", t, r.listener || e));
    else if (typeof r != "function") {
      for (n = -1, o = r.length - 1; o >= 0; o--)
        if (r[o] === e || r[o].listener === e) {
          l = r[o].listener, n = o;
          break;
        }
      if (n < 0)
        return this;
      n === 0 ? r.shift() : ta(r, n), r.length === 1 && (s[t] = r[0]), s.removeListener !== void 0 && this.emit("removeListener", t, l || e);
    }
    return this;
  };
  x.prototype.off = x.prototype.removeListener;
  x.prototype.removeAllListeners = function(t) {
    var e, r, s;
    if (r = this._events, r === void 0)
      return this;
    if (r.removeListener === void 0)
      return arguments.length === 0 ? (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0) : r[t] !== void 0 && (--this._eventsCount === 0 ? this._events = /* @__PURE__ */ Object.create(null) : delete r[t]), this;
    if (arguments.length === 0) {
      var n = Object.keys(r), o;
      for (s = 0; s < n.length; ++s)
        o = n[s], o !== "removeListener" && this.removeAllListeners(o);
      return this.removeAllListeners("removeListener"), this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0, this;
    }
    if (e = r[t], typeof e == "function")
      this.removeListener(t, e);
    else if (e !== void 0)
      for (s = e.length - 1; s >= 0; s--)
        this.removeListener(t, e[s]);
    return this;
  };
  function Zo(i, t, e) {
    var r = i._events;
    if (r === void 0)
      return [];
    var s = r[t];
    return s === void 0 ? [] : typeof s == "function" ? e ? [s.listener || s] : [s] : e ? ea(s) : el(s, s.length);
  }
  x.prototype.listeners = function(t) {
    return Zo(this, t, true);
  };
  x.prototype.rawListeners = function(t) {
    return Zo(this, t, false);
  };
  x.listenerCount = function(i, t) {
    return typeof i.listenerCount == "function" ? i.listenerCount(t) : tl.call(i, t);
  };
  x.prototype.listenerCount = tl;
  function tl(i) {
    var t = this._events;
    if (t !== void 0) {
      var e = t[i];
      if (typeof e == "function")
        return 1;
      if (e !== void 0)
        return e.length;
    }
    return 0;
  }
  x.prototype.eventNames = function() {
    return this._eventsCount > 0 ? nr(this._events) : [];
  };
  function el(i, t) {
    for (var e = new Array(t), r = 0; r < t; ++r)
      e[r] = i[r];
    return e;
  }
  function ta(i, t) {
    for (; t + 1 < i.length; t++)
      i[t] = i[t + 1];
    i.pop();
  }
  function ea(i) {
    for (var t = new Array(i.length), e = 0; e < t.length; ++e)
      t[e] = i[e].listener || i[e];
    return t;
  }
  function ra(i, t) {
    return new Promise(function(e, r) {
      function s() {
        n !== void 0 && i.removeListener("error", n), e([].slice.call(arguments));
      }
      var n;
      t !== "error" && (n = function(l) {
        i.removeListener(t, s), r(l);
      }, i.once("error", n)), i.once(t, s);
    });
  }
});
var xe = Symbol.for("#__listeners__");
var Yl = /-./g;
var Sr = class {
  static for(t) {
    return new Proxy({}, new this(t));
  }
  constructor(t) {
    this.getter = t;
  }
  get target() {
    return this.getter();
  }
  get(t, e) {
    return this.target[e];
  }
  set(t, e, r) {
    return this.target[e] = r, true;
  }
};
function Ms(i, t = {}) {
  return new Proxy(t, new Sr(i));
}
function jt(i) {
  let t = typeof i;
  if (t == "number")
    return i;
  if (t == "string") {
    if (/^\d+fps$/.test(i))
      return 1e3 / parseFloat(i);
    if (/^([-+]?[\d\.]+)s$/.test(i))
      return parseFloat(i) * 1e3;
    if (/^([-+]?[\d\.]+)ms$/.test(i))
      return parseFloat(i);
  }
  return null;
}
function xa(i) {
  return i.indexOf("-") >= 0 ? i.replace(Yl, function(t) {
    return t.charAt(1).toUpperCase();
  }) : i;
}
function we(i, t, e) {
  if (!i)
    return;
  let r = Object.getOwnPropertyDescriptor(i, t);
  return r || i == e ? r || void 0 : we(Reflect.getPrototypeOf(i), t, e);
}
var Fs = function(i, t, e) {
  let r, s, n;
  for (; (r = e) && (e = e.next); )
    (s = e.listener) && (e.path && s[e.path] ? n = t ? s[e.path].apply(s, t) : s[e.path]() : n = t ? s.apply(e, t) : s.call(e)), e.times && --e.times <= 0 && (r.next = e.next, e.listener = null);
};
function R(i, t, e, r) {
  var s;
  let n, o, l;
  return n = i[xe] || (i[xe] = {}), o = n[t] || (n[t] = {}), l = o.tail || (o.tail = o.next = {}), l.listener = e, l.path = r, o.tail = l.next = {}, l;
}
function D(i, t, e) {
  let r = R(i, t, e);
  return r.times = 1, r;
}
function yt(i, t, e, r) {
  let s, n, o = i[xe];
  if (!!o && (s = o[t])) {
    for (; (n = s) && (s = s.next); )
      if (s == e || s.listener == e) {
        n.next = s.next, s.listener = null;
        break;
      }
  }
}
function $(i, t, e) {
  let r;
  (r = i[xe]) && (r[t] && Fs(t, e, r[t]), r.all && Fs(t, [t, e], r.all));
}
var $t = class {
  emit(t, ...e) {
    return $(this, t, e);
  }
  on(t, ...e) {
    return R(this, t, ...e);
  }
  once(t, ...e) {
    return D(this, t, ...e);
  }
  un(t, ...e) {
    return yt(this, t, ...e);
  }
};
function Wl(i) {
  let t;
  return i ? (t = i.toIterable) ? t.call(i) : i : [];
}
var Ds = Symbol.for("#__init__");
var As = Symbol.for("#schedule");
var xr = Symbol.for("#frames");
var Te = Symbol.for("#interval");
var wt = Symbol.for("#stage");
var Tt = Symbol.for("#scheduled");
var Ee = Symbol.for("#version");
var Gl = Symbol.for("#fps");
var Rs = Symbol.for("#ticker");
var Xl = globalThis.requestAnimationFrame || function(i) {
  return globalThis.setTimeout(i, 1e3 / 60);
};
var Ta = 1 / 60;
var wr = class {
  constructor(t = null) {
    this[Ds](t);
  }
  [Ds](t = null) {
    var e;
    this.owner = t && (e = t.owner) !== void 0 ? e : null, this.target = t && (e = t.target) !== void 0 ? e : null, this.active = t && (e = t.active) !== void 0 ? e : false, this.value = t && (e = t.value) !== void 0 ? e : void 0, this.skip = t && (e = t.skip) !== void 0 ? e : 0, this.last = t && (e = t.last) !== void 0 ? e : 0;
  }
  tick(t, e) {
    return this.last = this.owner[xr], this.target.tick(this, e), 1;
  }
  update(t, e) {
    let r = this.active, s = t.value;
    return this.value != s && (this.deactivate(), this.value = s), (this.value || r || e) && this.activate(), this;
  }
  queue() {
    this.owner.add(this);
  }
  activate() {
    return this.value === true ? this.owner.on("commit", this) : this.value === false || typeof this.value == "number" && (this.value / 16.666666666666668 <= 2 ? this.owner.on("raf", this) : this[Te] = globalThis.setInterval(this.queue.bind(this), this.value)), this.active = true, this;
  }
  deactivate() {
    return this.value === true && this.owner.un("commit", this), this.owner.un("raf", this), this[Te] && (globalThis.clearInterval(this[Te]), this[Te] = null), this.active = false, this;
  }
};
var Tr = class {
  constructor() {
    var t = this;
    this.id = Symbol(), this.queue = [], this.stage = -1, this[wt] = -1, this[xr] = 0, this[Tt] = false, this[Ee] = 0, this.listeners = {}, this.intervals = {}, t.commit = function() {
      return t.add("commit"), t;
    }, this[Gl] = 0, t.$promise = null, t.$resolve = null, this[Rs] = function(e) {
      return t[Tt] = false, t.tick(e);
    };
  }
  touch() {
    return this[Ee]++;
  }
  get version() {
    return this[Ee];
  }
  add(t, e) {
    return (e || this.queue.indexOf(t) == -1) && this.queue.push(t), this[Tt] || this[As](), this;
  }
  get committing\u03A6() {
    return this.queue.indexOf("commit") >= 0;
  }
  get syncing\u03A6() {
    return this[wt] == 1;
  }
  listen(t, e) {
    let r = this.listeners[t], s = !r;
    return r || (r = this.listeners[t] = /* @__PURE__ */ new Set()), r.add(e), t == "raf" && s && this.add("raf"), this;
  }
  unlisten(t, e) {
    var r;
    let s = this.listeners[t];
    return s && s.delete(e), t == "raf" && s && s.size == 0 && (r = this.listeners.raf, delete this.listeners.raf), this;
  }
  on(t, e) {
    return this.listen(t, e);
  }
  un(t, e) {
    return this.unlisten(t, e);
  }
  get promise() {
    var t = this;
    return t.$promise || (t.$promise = new Promise(function(e) {
      return t.$resolve = e;
    }));
  }
  tick(t) {
    var e = this;
    let r = this.queue, s = this[xr]++;
    if (this.ts || (this.ts = t), this.dt = t - this.ts, this.ts = t, this.queue = [], this[wt] = 1, this[Ee]++, r.length)
      for (let n = 0, o = Wl(r), l = o.length; n < l; n++) {
        let h = o[n];
        typeof h == "string" && this.listeners[h] ? e.listeners[h].forEach(function(u) {
          if (u.tick instanceof Function)
            return u.tick(e, h);
          if (u instanceof Function)
            return u(e, h);
        }) : h instanceof Function ? h(e.dt, e) : h.tick && h.tick(e.dt, e);
      }
    return this[wt] = this[Tt] ? 0 : -1, e.$promise && (e.$resolve(e), e.$promise = e.$resolve = null), e.listeners.raf && e.add("raf"), e;
  }
  [As]() {
    return this[Tt] || (this[Tt] = true, this[wt] == -1 && (this[wt] = 0), Xl(this[Rs])), this;
  }
  schedule(t, e) {
    var r, s;
    return e || (e = t[r = this.id] || (t[r] = { value: true })), (e[s = this.id] || (e[s] = new wr({ owner: this, target: t }))).update(e, true);
  }
  unschedule(t, e = {}) {
    e || (e = t[this.id]);
    let r = e && e[this.id];
    return r && r.active && r.deactivate(), this;
  }
};
var k = new Tr();
function C() {
  return k.add("commit").promise;
}
function Ql(i, t) {
  return globalThis.setTimeout(function() {
    i(), C();
  }, t);
}
function Jl(i, t) {
  return globalThis.setInterval(function() {
    i(), C();
  }, t);
}
var Zl = globalThis.clearInterval;
var th = globalThis.clearTimeout;
var qt = globalThis.imba || (globalThis.imba = {});
qt.commit = C;
qt.setTimeout = Ql;
qt.setInterval = Jl;
qt.clearInterval = Zl;
qt.clearTimeout = th;
var $s = { on: function(i, t) {
  return R(this, i, t);
}, inited: function(i) {
  return $(this, "inited", [i]);
} };
function Ca() {
  return true;
}
function Pa(i, t, e) {
  if (e.get) {
    let r = e.get;
    e.get = function() {
      let s = r.call(this);
      return Object.defineProperty(this, t, { enumerable: false, value: s }), s;
    };
  }
  return e;
}
function La() {
  return console.warn("imba.serve is not available on the client");
}
var js = Symbol.for("#toStringDeopt");
var qs = Symbol.for("#symbols");
var zs = Symbol.for("#batches");
var Vs = Symbol.for("#extras");
var Ks = Symbol.for("#stacks");
var Et = class {
  constructor(t) {
    this.dom = t, this.string = "";
  }
  contains(t) {
    return this.dom.classList.contains(t);
  }
  add(t) {
    return this.contains(t) ? this : (this.string += (this.string ? " " : "") + t, this.dom.classList.add(t), this);
  }
  remove(t) {
    if (!this.contains(t))
      return this;
    let e = new RegExp("(^|\\s)" + t + "(?=\\s|$)", "g");
    return this.string = this.string.replace(e, ""), this.dom.classList.remove(t), this;
  }
  toggle(t, e) {
    return e === void 0 && (e = !this.contains(t)), e ? this.add(t) : this.remove(t);
  }
  incr(t, e = 0) {
    var r = this;
    let s = this.stacks, n = s[t] || 0;
    return n < 1 && this.add(t), e > 0 && setTimeout(function() {
      return r.decr(t);
    }, e), s[t] = Math.max(n, 0) + 1;
  }
  decr(t) {
    let e = this.stacks, r = e[t] || 0;
    return r == 1 && this.remove(t), e[t] = Math.max(r, 1) - 1;
  }
  reconcile(t, e) {
    let r = this[qs], s = this[zs], n = true;
    if (!r)
      r = this[qs] = [t], s = this[zs] = [e || ""], this.toString = this.valueOf = this[js];
    else {
      let o = r.indexOf(t), l = e || "";
      o == -1 ? (r.push(t), s.push(l)) : s[o] != l ? s[o] = l : n = false;
    }
    n && (this[Vs] = " " + s.join(" "), this.sync());
  }
  valueOf() {
    return this.string;
  }
  toString() {
    return this.string;
  }
  [js]() {
    return this.string + (this[Vs] || "");
  }
  sync() {
    return this.dom.flagSync$();
  }
  get stacks() {
    return this[Ks] || (this[Ks] = {});
  }
};
var Ne = Symbol.for("#__init__");
var Us = Symbol.for("#__initor__");
var Bs = Symbol.for("#__inited__");
var Er = Symbol.for("#getRenderContext");
var eh = Symbol.for("#getDynamicContext");
var Hs = Symbol();
var L = { context: null };
var Nr = class {
  constructor(t = null) {
    this[Ne](t);
  }
  [Ne](t = null) {
    var e;
    this.stack = t && (e = t.stack) !== void 0 ? e : [];
  }
  push(t) {
    return this.stack.push(t);
  }
  pop(t) {
    return this.stack.pop();
  }
};
var zt = new Nr();
var Y = class extends Map {
  static [Ne]() {
    return this.prototype[Us] = Hs, this;
  }
  constructor(t, e = null) {
    super(), this._ = t, this.sym = e, this[Us] === Hs && this[Bs] && this[Bs]();
  }
  pop() {
    return L.context = null;
  }
  [Er](t) {
    let e = this.get(t);
    return e || this.set(t, e = new Y(this._, t)), L.context = e;
  }
  [eh](t, e) {
    return this[Er](t)[Er](e);
  }
  run(t) {
    return this.value = t, L.context == this && (L.context = null), this.get(t);
  }
  cache(t) {
    return this.set(this.value, t), t;
  }
};
Y[Ne]();
function Ys(i, t = Symbol(), e = i) {
  return L.context = i[t] || (i[t] = new Y(e, t));
}
function Ma() {
  let i = L.context, t = i || new Y(null);
  return globalThis.DEBUG_IMBA && !i && zt.stack.length > 0 && console.warn("detected unmemoized nodes in", zt.stack.slice(0), "see https://imba.io", t), i && (L.context = null), t;
}
function Bt(i, t) {
  let e = Object.getOwnPropertyDescriptors(t);
  return delete e.constructor, Object.defineProperties(i, e), i;
}
function rh(i) {
  let t;
  return i ? (t = i.toIterable) ? t.call(i) : i : [];
}
var Kt = Symbol.for("#parent");
var Ws = Symbol.for("#closestNode");
var ih = Symbol.for("#parentNode");
var sh = Symbol.for("#context");
var Pe = Symbol.for("#__init__");
var cn = Symbol.for("##inited");
var Cr = Symbol.for("#getRenderContext");
var nh = Symbol.for("#getDynamicContext");
var Gs = Symbol.for("#insertChild");
var Ut = Symbol.for("#appendChild");
var Or = Symbol.for("#replaceChild");
var Xs = Symbol.for("#removeChild");
var et = Symbol.for("#insertInto");
var Qs = Symbol.for("#insertIntoDeopt");
var Vt = Symbol.for("#removeFrom");
var Js = Symbol.for("#removeFromDeopt");
var Nt = Symbol.for("#replaceWith");
var Zs = Symbol.for("#replaceWithDeopt");
var Pr = Symbol.for("#placeholderNode");
var oh = Symbol.for("#attachToParent");
var lh = Symbol.for("#detachFromParent");
var hh = Symbol.for("#placeChild");
var uh = Symbol.for("#beforeReconcile");
var ah = Symbol.for("#afterReconcile");
var fh = Symbol.for("#afterVisit");
var ch = Symbol.for("#visitContext");
var tn = Symbol.for("#__initor__");
var en = Symbol.for("#__inited__");
var dn = Symbol.for("##parent");
var kr = Symbol.for("##up");
var rn = Symbol.for("##context");
var _t = Symbol.for("#domNode");
var Ce = Symbol.for("##placeholderNode");
var sn = Symbol.for("#domDeopt");
var Oe = Symbol.for("##visitContext");
var pn = Symbol.for("#isRichElement");
var nn = Symbol.for("#src");
var Ct = Symbol.for("#htmlNodeName");
var dh = Symbol.for("#getSlot");
var on = Symbol.for("#ImbaElement");
var ln = Symbol.for("#cssns");
var ph = Symbol.for("#cssid");
var hn = Symbol();
var { Event: W, UIEvent: qa, MouseEvent: mn, PointerEvent: gn, KeyboardEvent: yn, CustomEvent: P, Node: j, Comment: Ie, Text: qr, Element: b, HTMLElement: zr, HTMLHtmlElement: za, HTMLSelectElement: _n, HTMLInputElement: bn, HTMLTextAreaElement: vn, HTMLButtonElement: Sn, HTMLOptionElement: xn, HTMLScriptElement: Va, SVGElement: wn, DocumentFragment: Ka, ShadowRoot: Ua, Document: Ht, Window: Ba, customElements: Ha } = globalThis.window;
var un = {};
function Tn(i, t, e) {
  if (!i)
    return e[t] = null;
  if (e[t] !== void 0)
    return e[t];
  let r = Object.getOwnPropertyDescriptor(i, t);
  return r !== void 0 || i == wn ? e[t] = r || null : Tn(Reflect.getPrototypeOf(i), t, e);
}
var Lr = {};
var Ir = {};
var Fr = {};
var mh = {};
function Fe() {
  return globalThis.document;
}
function Ya() {
  return true;
}
var gh = { get(i, t) {
  let e = i, r;
  for (; e && r == null; )
    (e = e[Kt]) && (r = e[t]);
  return r;
}, set(i, t, e) {
  let r = i, s;
  for (; r && s == null; ) {
    if (we(r, t, b))
      return r[t] = e, true;
    r = r[Kt];
  }
  return true;
} };
var Mr = class {
  get flags() {
    return this.documentElement.flags;
  }
};
Bt(Ht.prototype, Mr.prototype);
var Dr = class {
  get [Kt]() {
    return this[dn] || this.parentNode || this[kr];
  }
  get [Ws]() {
    return this;
  }
  get [ih]() {
    return this[Kt][Ws];
  }
  get [sh]() {
    return this[rn] || (this[rn] = new Proxy(this, gh));
  }
  [Pe]() {
    return this;
  }
  [cn]() {
    return this;
  }
  [Cr](t) {
    return Ys(this, t);
  }
  [nh](t, e) {
    return this[Cr](t)[Cr](e);
  }
  [Gs](t, e) {
    return t[et](this, e);
  }
  [Ut](t) {
    return t[et](this, null);
  }
  [Or](t, e) {
    let r = this[Gs](t, e);
    return this[Xs](e), r;
  }
  [Xs](t) {
    return t[Vt](this);
  }
  [et](t, e = null) {
    return e ? t.insertBefore(this, e) : t.appendChild(this), this;
  }
  [Qs](t, e) {
    return e ? t.insertBefore(this[_t] || this, e) : t.appendChild(this[_t] || this), this;
  }
  [Vt](t) {
    return t.removeChild(this);
  }
  [Js](t) {
    return t.removeChild(this[_t] || this);
  }
  [Nt](t, e) {
    return e[Or](t, this);
  }
  [Zs](t, e) {
    return e[Or](t, this[_t] || this);
  }
  get [Pr]() {
    return this[Ce] || (this[Ce] = globalThis.document.createComment("placeholder"));
  }
  set [Pr](t) {
    let e = this[Ce];
    this[Ce] = t, e && e != t && e.parentNode && e[Nt](t);
  }
  [oh]() {
    let t = this[_t], e = t && t.parentNode;
    return t && e && t != this && (this[_t] = null, this[et](e, t), t[Vt](e)), this;
  }
  [lh]() {
    this[sn] != true && (this[sn] = true, true) && (this[Nt] = this[Zs], this[Vt] = this[Js], this[et] = this[Qs], this[kr] || (this[kr] = this[Kt]));
    let t = this[Pr];
    return this.parentNode && t != this && (t[et](this.parentNode, this), this[Vt](this.parentNode)), this[_t] = t, this;
  }
  [hh](t, e, r) {
    let s = typeof t;
    if (s === "undefined" || t === null) {
      if (r && r instanceof Ie)
        return r;
      let n = globalThis.document.createComment("");
      return r ? r[Nt](n, this) : n[et](this, null);
    }
    if (t === r)
      return t;
    if (s !== "object") {
      let n, o = t;
      return e & 128 && e & 256, r ? r instanceof qr ? (r.textContent = o, r) : (n = globalThis.document.createTextNode(o), r[Nt](n, this), n) : (this.appendChild(n = globalThis.document.createTextNode(o)), n);
    } else {
      if (globalThis.DEBUG_IMBA && !t[et])
        throw console.warn("Tried to insert", t, "into", this), new TypeError("Only DOM Nodes can be inserted into DOM");
      return r ? r[Nt](t, this) : t[et](this, null);
    }
  }
};
Bt(j.prototype, Dr.prototype);
var Ar = class {
  log(...t) {
    return console.log(...t);
  }
  emit(t, e, r = { bubbles: true, cancelable: true }) {
    e != null && (r.detail = e);
    let s = new P(t, r), n = this.dispatchEvent(s);
    return s;
  }
  text$(t) {
    return this.textContent = t, this;
  }
  [uh]() {
    return this;
  }
  [ah]() {
    return this;
  }
  [fh]() {
    this.render && this.render(), this[Oe] && (this[Oe] = null);
  }
  get [ch]() {
    return this[Oe] || (this[Oe] = {});
  }
  get flags() {
    return this.$flags || (this.$flags = new Et(this), this.flag$ == b.prototype.flag$ && (this.flags$ext = this.className), this.flagDeopt$()), this.$flags;
  }
  flag$(t) {
    let e = this.flags$ns;
    this.className = e ? e + (this.flags$ext = t) : this.flags$ext = t;
  }
  flagDeopt$() {
    var t = this;
    this.flag$ = this.flagExt$, t.flagSelf$ = function(e) {
      return t.flagSync$(t.flags$own = e);
    };
  }
  flagExt$(t) {
    return this.flagSync$(this.flags$ext = t);
  }
  flagSelf$(t) {
    return this.flagDeopt$(), this.flagSelf$(t);
  }
  flagSync$() {
    return this.className = (this.flags$ns || "") + (this.flags$ext || "") + " " + (this.flags$own || "") + " " + (this.$flags || "");
  }
  set$(t, e) {
    let r = we(this, t, b);
    !r || !r.set ? this.setAttribute(t, e) : this[t] = e;
  }
  get richValue() {
    return this.value;
  }
  set richValue(t) {
    this.value = t;
  }
};
Bt(b.prototype, Ar.prototype);
b.prototype.setns$ = b.prototype.setAttributeNS;
b.prototype[pn] = true;
function Wa(i, t, e, r) {
  let s = globalThis.document.createElement(i);
  return e && (s.className = e), r !== null && s.text$(r), t && t[Ut] && t[Ut](s), s;
}
var Rr = class {
  set$(t, e) {
    var r;
    let s = un[r = this.nodeName] || (un[r] = {}), n = Tn(this, t, s);
    !n || !n.set ? this.setAttribute(t, e) : this[t] = e;
  }
  flag$(t) {
    let e = this.flags$ns;
    this.setAttribute("class", e ? e + (this.flags$ext = t) : this.flags$ext = t);
  }
  flagSelf$(t) {
    var e = this;
    return e.flag$ = function(r) {
      return e.flagSync$(e.flags$ext = r);
    }, e.flagSelf$ = function(r) {
      return e.flagSync$(e.flags$own = r);
    }, e.flagSelf$(t);
  }
  flagSync$() {
    return this.setAttribute("class", (this.flags$ns || "") + (this.flags$ext || "") + " " + (this.flags$own || "") + " " + (this.$flags || ""));
  }
};
Bt(wn.prototype, Rr.prototype);
var $r = class {
  set src(t) {
    if (this[nn] != t && (this[nn] = t, true)) {
      if (t && t.adoptNode)
        t.adoptNode(this);
      else if (t && t.type == "svg") {
        if (t.attributes)
          for (let e = t.attributes, r = 0, s = Object.keys(e), n = s.length, o, l; r < n; r++)
            o = s[r], l = e[o], this.setAttribute(o, l);
        this.innerHTML = t.content;
      }
    }
  }
};
Bt(SVGSVGElement.prototype, $r.prototype);
function Ga(i, t, e, r, s) {
  let n = globalThis.document.createElementNS("http://www.w3.org/2000/svg", i);
  return e && (n.className.baseVal = e), t && t[Ut] && t[Ut](n), r && (n.textContent = r), n;
}
function ot(i) {
  return globalThis.document.createComment(i);
}
function Vr(i) {
  return globalThis.document.createTextNode(i);
}
function Xa() {
  return globalThis.document.createDocumentFragment();
}
var ke = globalThis.navigator;
var yh = ke && ke.vendor || "";
var an = ke && ke.userAgent || "";
var _h = yh.indexOf("Apple") > -1 || an.indexOf("CriOS") >= 0 || an.indexOf("FxiOS") >= 0;
var Le = !_h;
var fn = /* @__PURE__ */ new Map();
var jr = class extends zr {
  connectedCallback() {
    return Le ? this.parentNode.removeChild(this) : this.parentNode.connectedCallback();
  }
  disconnectedCallback() {
    if (!Le)
      return this.parentNode.disconnectedCallback();
  }
};
window.customElements.define("i-hook", jr);
function bh(i, t) {
  let e = fn.get(t);
  if (!e) {
    e = {};
    let r = t.prototype, s = [r];
    for (; (r = r && Object.getPrototypeOf(r)) && r.constructor != i.constructor; )
      s.unshift(r);
    for (let n = 0, o = rh(s), l = o.length; n < l; n++) {
      let h = o[n], u = Object.getOwnPropertyDescriptors(h);
      Object.assign(e, u);
    }
    fn.set(t, e);
  }
  return e;
}
function vh(i, t, e, r, s) {
  let n;
  typeof i != "string" && i && i.nodeName && (i = i.nodeName);
  let o = Ir[i] || i;
  if (Lr[i]) {
    let l = Lr[i], h = l.prototype[Ct];
    if (h && Le)
      n = globalThis.document.createElement(h, { is: i });
    else if (l.create$ && h) {
      n = globalThis.document.createElement(h), n.setAttribute("is", o);
      let u = bh(n, l);
      Object.defineProperties(n, u), n.__slots = {}, n.appendChild(globalThis.document.createElement("i-hook"));
    } else
      l.create$ ? (n = l.create$(n), n.__slots = {}) : console.warn("could not create tag " + i);
  } else
    n = globalThis.document.createElement(Ir[i] || i);
  return n[dn] = t, n[Pe](), n[cn](), r !== null && n[dh]("__").text$(r), (e || n.flags$ns) && n.flag$(e || ""), n;
}
function Qa(i, t, e, r) {
  if (i == null || i == null)
    return ot("");
  if (i instanceof j)
    return i;
  if (i[pn])
    return i;
  if (typeof i == "string" || i && i.prototype instanceof j)
    return vh(i, t, e, r);
}
function Sh(i, t) {
  if (Fr[i])
    return Fr[i];
  if (window[t])
    return window[t];
  if (window[i])
    return window[i];
}
function Za(i, t, e) {
  let r = Sh(i, t);
  if (!(r == e || r.prototype instanceof e || r.prototype[Ct])) {
    let n = r.prototype[on];
    if (!n) {
      n = class extends r {
        static [Pe]() {
          return this.prototype[tn] = hn, this;
        }
        constructor() {
          super(...arguments), this.__slots = {}, this.__F = 0, this[tn] === hn && this[en] && this[en]();
        }
      }[Pe](), r.prototype[on] = n;
      let o = Object.getOwnPropertyDescriptors(e.prototype);
      Object.defineProperties(n.prototype, o), n.prototype[Ct] = i;
    }
    return n;
  }
  return r;
}
function tf(i, t, e = {}) {
  Fr[i] = mh[i] = t, t.nodeName = i;
  let r = i, s = t.prototype;
  if (i.indexOf("-") == -1 && (r = "" + i + "-tag", Ir[i] = r), e.cssns) {
    let n = (s._ns_ || s[ln] || "") + " " + (e.cssns || "");
    s._ns_ = n.trim() + " ", s[ln] = e.cssns;
  }
  if (e.cssid) {
    let n = (s.flags$ns || "") + " " + e.cssid;
    s[ph] = e.cssid, s.flags$ns = n.trim() + " ";
  }
  return s[Ct] && !e.extends && (e.extends = s[Ct]), e.extends ? (s[Ct] = e.extends, Lr[i] = t, Le && window.customElements.define(r, t, { extends: e.extends })) : window.customElements.define(r, t), t;
}
var xh = globalThis.imba || (globalThis.imba = {});
xh.document = globalThis.document;
function Kr(i) {
  let t;
  return i ? (t = i.toIterable) ? t.call(i) : i : [];
}
function wh(i, t) {
  let e = Object.getOwnPropertyDescriptors(t);
  return delete e.constructor, Object.defineProperties(i, e), i;
}
var Re = Symbol.for("#parent");
var En = Symbol.for("#closestNode");
var Th = Symbol.for("#isRichElement");
var Eh = Symbol.for("#afterVisit");
var Nn = Symbol.for("#__initor__");
var Cn = Symbol.for("#__inited__");
var On = Symbol.for("#appendChild");
var Pn = Symbol.for("#removeChild");
var rt = Symbol.for("#insertInto");
var Me = Symbol.for("#replaceWith");
var kn = Symbol.for("#insertChild");
var De = Symbol.for("#removeFrom");
var Ln = Symbol.for("#placeChild");
var An = Symbol.for("#__init__");
var Nh = Symbol.for("#registerFunctionalSlot");
var Ch = Symbol.for("#getFunctionalSlot");
var In = Symbol.for("#getSlot");
var Br = Symbol.for("##parent");
var $e = Symbol.for("##up");
var Fn = Symbol.for("##flags");
var Oh = Symbol.for("#domFlags");
var K = Symbol.for("#end");
var Mn = Symbol.for("#textContent");
var Ae = Symbol.for("#textNode");
var Ur = Symbol.for("#functionalSlots");
var Dn = Symbol();
function nf() {
  return true;
}
var lt = class {
  constructor() {
    this.childNodes = [];
  }
  log(...t) {
  }
  hasChildNodes() {
    return false;
  }
  set [Re](t) {
    this[Br] = t;
  }
  get [Re]() {
    return this[Br] || this[$e];
  }
  get [En]() {
    return this[Re][En];
  }
  get [Th]() {
    return true;
  }
  get flags() {
    return this[Fn] || (this[Fn] = new Et(this));
  }
  flagSync$() {
    return this;
  }
  [Eh]() {
    return this;
  }
};
var Ph = 0;
var Yt = class extends lt {
  static [An]() {
    return this.prototype[Nn] = Dn, this;
  }
  constructor(t, e) {
    super(...arguments), this[$e] = e, this.parentNode = null, this[Oh] = t, this.childNodes = [], this[K] = ot("slot" + Ph++), e && e[On](this), this[Nn] === Dn && this[Cn] && this[Cn]();
  }
  get [Re]() {
    return this[Br] || this.parentNode || this[$e];
  }
  set textContent(t) {
    this[Mn] = t;
  }
  get textContent() {
    return this[Mn];
  }
  hasChildNodes() {
    for (let t = 0, e = Kr(this.childNodes), r = e.length; t < r; t++) {
      let s = e[t];
      if (s instanceof lt && s.hasChildNodes())
        return true;
      if (!(s instanceof Ie)) {
        if (s instanceof j)
          return true;
      }
    }
    return false;
  }
  text$(t) {
    return this[Ae] ? this[Ae].textContent = t : this[Ae] = this[Ln](t), this[Ae];
  }
  appendChild(t) {
    return this.parentNode && t[rt](this.parentNode, this[K]), this.childNodes.push(t);
  }
  [On](t) {
    return this.parentNode && t[rt](this.parentNode, this[K]), this.childNodes.push(t);
  }
  insertBefore(t, e) {
    this.parentNode && this.parentNode[kn](t, e);
    let r = this.childNodes.indexOf(e);
    return r >= 0 && this.childNodes.splice(r, 0, t), t;
  }
  [Pn](t) {
    this.parentNode && this.parentNode[Pn](t);
    let e = this.childNodes.indexOf(t);
    e >= 0 && this.childNodes.splice(e, 1);
  }
  [rt](t, e) {
    let r = this.parentNode;
    if (this.parentNode != t && (this.parentNode = t, true)) {
      this[K] && (e = this[K][rt](t, e));
      for (let s = 0, n = Kr(this.childNodes), o = n.length; s < o; s++)
        n[s][rt](t, e);
    }
    return this;
  }
  [Me](t, e) {
    let r = t[rt](e, this[K]);
    return this[De](e), r;
  }
  [kn](t, e) {
    if (this.parentNode && this.insertBefore(t, e || this[K]), e) {
      let r = this.childNodes.indexOf(e);
      r >= 0 && this.childNodes.splice(r, 0, t);
    } else
      this.childNodes.push(t);
    return t;
  }
  [De](t) {
    for (let e = 0, r = Kr(this.childNodes), s = r.length; e < s; e++)
      r[e][De](t);
    return this[K] && this[K][De](t), this.parentNode = null, this;
  }
  [Ln](t, e, r) {
    let s = this.parentNode, n = typeof t;
    if (n === "undefined" || t === null) {
      if (r && r instanceof Ie)
        return r;
      let o = ot("");
      if (r) {
        let l = this.childNodes.indexOf(r);
        return this.childNodes.splice(l, 1, o), s && r[Me](o, s), o;
      }
      return this.childNodes.push(o), s && o[rt](s, this[K]), o;
    }
    if (t === r)
      return t;
    if (n !== "object") {
      let o, l = t;
      if (r) {
        if (r instanceof qr)
          return r.textContent = l, r;
        {
          o = Vr(l);
          let h = this.childNodes.indexOf(r);
          return this.childNodes.splice(h, 1, o), s && r[Me](o, s), o;
        }
      } else
        return this.childNodes.push(o = Vr(l)), s && o[rt](s, this[K]), o;
    } else if (r) {
      let o = this.childNodes.indexOf(r);
      return this.childNodes.splice(o, 1, t), s && r[Me](t, s), t;
    } else
      return this.childNodes.push(t), s && t[rt](s, this[K]), t;
  }
};
Yt[An]();
function of(i, t) {
  return new Yt(i, t);
}
function je(i, t) {
  let e = new Yt(i, null);
  return e[$e] = t, e;
}
var Hr = class {
  [Nh](t) {
    let e = this[Ur] || (this[Ur] = {});
    return e[t] || (e[t] = je(0, this));
  }
  [Ch](t, e) {
    let r = this[Ur];
    return r && r[t] || this[In](t, e);
  }
  [In](t, e) {
    var r;
    return t == "__" && !this.render ? this : (r = this.__slots)[t] || (r[t] = je(0, this));
  }
};
wh(j.prototype, Hr.prototype);
function kh(i) {
  let t;
  return i ? (t = i.toIterable) ? t.call(i) : i : [];
}
var Lh = Symbol.for("#afterVisit");
var qe = Symbol.for("#insertInto");
var Rn = Symbol.for("#appendChild");
var Ih = Symbol.for("#replaceWith");
var Yr = Symbol.for("#removeFrom");
var $n = Symbol.for("#__initor__");
var jn = Symbol.for("#__inited__");
var zn = Symbol.for("#__init__");
var Fh = Symbol.for("#domFlags");
var Mh = Symbol.for("##parent");
var ht = Symbol.for("#end");
var Dh = Symbol.for("#removeChild");
var Ah = Symbol.for("#insertChild");
var qn = Symbol();
var ze = class extends lt {
  static [zn]() {
    return this.prototype[$n] = qn, this;
  }
  constructor(t, e) {
    super(...arguments), this[Fh] = t, this[Mh] = e, t & 256 || (this[ht] = ot("list")), this.$ = this.childNodes, this.length = 0, e && e[Rn](this), this[$n] === qn && this[jn] && this[jn]();
  }
  hasChildNodes() {
    return this.length != 0;
  }
  [Lh](t) {
    let e = this.length;
    if (this.length = t, e == t)
      return;
    let r = this.parentNode;
    if (!r)
      return;
    let s = this.childNodes, n = this[ht];
    if (e > t)
      for (; e > t; )
        r[Dh](s[--e]);
    else if (t > e)
      for (; t > e; )
        r[Ah](s[e++], n);
    this.length = t;
  }
  [qe](t, e) {
    this.parentNode = t, this[ht] && this[ht][qe](t, e), e = this[ht];
    for (let r = 0, s = kh(this.childNodes), n = s.length; r < n; r++) {
      let o = s[r];
      if (r == this.length)
        break;
      o[qe](t, e);
    }
    return this;
  }
  [Rn](t) {
  }
  [Ih](t, e) {
    let r = t[qe](e, this[ht]);
    return this[Yr](e), r;
  }
  [Yr](t) {
    let e = this.length;
    for (; e > 0; )
      this.childNodes[--e][Yr](t);
    this[ht] && t.removeChild(this[ht]), this.parentNode = null;
  }
};
ze[zn]();
function af(i, t) {
  return new ze(i, t);
}
function Vn(i) {
  let t;
  return i ? (t = i.toIterable) ? t.call(i) : i : [];
}
var Wr = Symbol.for("#appendChild");
var Ve = Symbol.for("#insertChild");
var Rh = Symbol.for("#replaceWith");
var Ke = Symbol.for("#insertInto");
var Gr = Symbol.for("#removeFrom");
var $h = Symbol.for("#afterVisit");
var Kn = Symbol.for("#__initor__");
var Un = Symbol.for("#__inited__");
var Wn = Symbol.for("#__init__");
var Ue = Symbol.for("#domFlags");
var Bn = Symbol.for("##parent");
var ut = Symbol.for("#end");
var Hn = Symbol.for("#removeChild");
var Yn = Symbol();
var Be = class extends lt {
  static [Wn]() {
    return this.prototype[Kn] = Yn, this;
  }
  constructor(t, e) {
    super(...arguments), this[Ue] = t, this[Bn] = e, this.changes = /* @__PURE__ */ new Map(), this.dirty = false, this.array = this.childNodes, this.$ = new Y(this, Symbol()), t & 256 || (this[ut] = ot("map")), e && e[Wr](this), this[Kn] === Yn && this[Un] && this[Un]();
  }
  [Wr](t) {
    if (this.parentNode)
      return this.parentNode[Ve](t, this[ut]);
  }
  hasChildNodes() {
    return this.childNodes.length != 0;
  }
  push(t, e) {
    if (!(this[Ue] & 1)) {
      this.array.push(t), this[Wr](t);
      return;
    }
    let r = this.array[e];
    if (r !== t) {
      this.dirty = true;
      let s = this.array.indexOf(t), n = this.changes.get(t);
      s === -1 ? (this.array.splice(e, 0, t), this.insertChild(t, e, s)) : s === e + 1 ? (r && this.changes.set(r, -1), this.array.splice(e, 1)) : (s >= 0 && this.array.splice(s, 1), this.array.splice(e, 0, t), this.moveChild(t, e, s)), n == -1 && this.changes.delete(t);
    }
  }
  insertChild(t, e, r) {
    let s = this.parentNode;
    if (!!s)
      if (e > 0) {
        let n = this.array[e - 1];
        s[Ve](t, n.nextSibling);
      } else
        s[Ve](t, this.childNodes[e + 1] || this[ut]);
  }
  moveChild(t, e, r) {
    return this.insertChild(t, e, r);
  }
  removeChild(t, e) {
    t.parentNode && t[Gr](t.parentNode);
  }
  [Ve](t, e) {
  }
  [Rh](t, e) {
    let r = t[Ke](e, this[ut]);
    return this[Gr](e), r;
  }
  [Ke](t, e) {
    this[Bn] = t;
    let r = this.parentNode;
    if (t != r) {
      this.parentNode = t;
      for (let s = 0, n = Vn(this.array), o = n.length; s < o; s++)
        n[s][Ke](t, e);
      this[ut] && this[ut][Ke](t, e);
    }
    return this;
  }
  [Gr](t) {
    for (let e = 0, r = Vn(this.array), s = r.length; e < s; e++) {
      let n = r[e];
      t[Hn](n);
    }
    return this[ut] && t[Hn](this[ut]), this.parentNode = null;
  }
  [$h](t) {
    var e = this;
    if (!(this[Ue] & 1)) {
      this[Ue] |= 1;
      return;
    }
    if (this.dirty && (e.changes.forEach(function(r, s) {
      if (r == -1)
        return e.removeChild(s);
    }), e.changes.clear(), e.dirty = false), e.array.length > t)
      for (; e.array.length > t; ) {
        let r = e.array.pop();
        e.removeChild(r);
      }
  }
};
Be[Wn]();
function mf(i, t) {
  return new Be(i, t);
}
var Pt = Symbol.for("#__init__");
var Gn = Symbol.for("#__initor__");
var Xn = Symbol.for("#__inited__");
var jh = Symbol.for("##inited");
var qh = Symbol.for("#afterVisit");
var zh = Symbol.for("#beforeReconcile");
var Vh = Symbol.for("#afterReconcile");
var Qn = Symbol.for("#__hooks__");
var Ot = Symbol.for("#autorender");
var He = Symbol.for("##visitContext");
var Jn = Symbol();
var Zn = new class {
  constructor(i = null) {
    this[Pt](i);
  }
  [Pt](i = null) {
    var t;
    this.items = i && (t = i.items) !== void 0 ? t : [], this.current = i && (t = i.current) !== void 0 ? t : null, this.lastQueued = i && (t = i.lastQueued) !== void 0 ? t : null, this.tests = i && (t = i.tests) !== void 0 ? t : 0;
  }
  flush() {
    let i = null;
    for (; i = this.items.shift(); ) {
      if (!i.parentNode || i.hydrated\u03A6)
        continue;
      let t = this.current;
      this.current = i, i.__F |= 1024, i.connectedCallback(), this.current = t;
    }
  }
  queue(i) {
    var t = this;
    let e = this.items.length, r = 0, s = this.lastQueued;
    this.lastQueued = i;
    let n = j.DOCUMENT_POSITION_PRECEDING, o = j.DOCUMENT_POSITION_FOLLOWING;
    if (e) {
      let l = this.items.indexOf(s), h = l, u = function(a, p) {
        return t.tests++, a.compareDocumentPosition(p);
      };
      (l == -1 || s.nodeName != i.nodeName) && (h = l = 0);
      let c = t.items[h];
      for (; c && u(c, i) & o; )
        c = t.items[++h];
      if (h != l)
        c ? t.items.splice(h, 0, i) : t.items.push(i);
      else {
        for (; c && u(c, i) & n; )
          c = t.items[--h];
        h != l && (c ? t.items.splice(h + 1, 0, i) : t.items.unshift(i));
      }
    } else
      t.items.push(i), t.current || globalThis.queueMicrotask(t.flush.bind(t));
  }
}();
function xf() {
  return Zn.flush();
}
var kt = class extends zr {
  static [Pt]() {
    return this.prototype[Gn] = Jn, this;
  }
  constructor() {
    super(), this.flags$ns && (this.flag$ = this.flagExt$), this.setup$(), this.build(), this[Gn] === Jn && this[Xn] && this[Xn]();
  }
  setup$() {
    return this.__slots = {}, this.__F = 0;
  }
  [Pt]() {
    return this.__F |= 3, this;
  }
  [jh]() {
    if (this[Qn])
      return this[Qn].inited(this);
  }
  flag$(t) {
    this.className = this.flags$ext = t;
  }
  build() {
    return this;
  }
  awaken() {
    return this;
  }
  mount() {
    return this;
  }
  unmount() {
    return this;
  }
  rendered() {
    return this;
  }
  dehydrate() {
    return this;
  }
  hydrate() {
    return this.autoschedule = true, this;
  }
  tick() {
    return this.commit();
  }
  visit() {
    return this.commit();
  }
  commit() {
    return this.render\u03A6 ? (this.__F |= 256, this.render && this.render(), this.rendered(), this.__F = (this.__F | 512) & -257 & -8193) : (this.__F |= 8192, this);
  }
  get autoschedule() {
    return (this.__F & 64) != 0;
  }
  set autoschedule(t) {
    t ? this.__F |= 64 : this.__F &= -65;
  }
  set autorender(t) {
    let e = this[Ot] || (this[Ot] = {});
    e.value = t, this.mounted\u03A6 && k.schedule(this, e);
  }
  get render\u03A6() {
    return !this.suspended\u03A6;
  }
  get mounting\u03A6() {
    return (this.__F & 16) != 0;
  }
  get mounted\u03A6() {
    return (this.__F & 32) != 0;
  }
  get awakened\u03A6() {
    return (this.__F & 8) != 0;
  }
  get rendered\u03A6() {
    return (this.__F & 512) != 0;
  }
  get suspended\u03A6() {
    return (this.__F & 4096) != 0;
  }
  get rendering\u03A6() {
    return (this.__F & 256) != 0;
  }
  get scheduled\u03A6() {
    return (this.__F & 128) != 0;
  }
  get hydrated\u03A6() {
    return (this.__F & 2) != 0;
  }
  get ssr\u03A6() {
    return (this.__F & 1024) != 0;
  }
  schedule() {
    return k.on("commit", this), this.__F |= 128, this;
  }
  unschedule() {
    return k.un("commit", this), this.__F &= -129, this;
  }
  async suspend(t = null) {
    let e = this.flags.incr("_suspended_");
    return this.__F |= 4096, t instanceof Function && (await t(), this.unsuspend()), this;
  }
  unsuspend() {
    return this.flags.decr("_suspended_") == 0 && (this.__F &= -4097, this.commit()), this;
  }
  [qh]() {
    if (this.visit(), this[He])
      return this[He] = null;
  }
  [zh]() {
    return this.__F & 1024 && (this.__F = this.__F & -1025, this.classList.remove("_ssr_"), this.flags$ext && this.flags$ext.indexOf("_ssr_") == 0 && (this.flags$ext = this.flags$ext.slice(5)), this.__F & 512 || (this.innerHTML = "")), globalThis.DEBUG_IMBA && zt.push(this), this[He] && (this[He] = null), this;
  }
  [Vh]() {
    return globalThis.DEBUG_IMBA && zt.pop(this), this;
  }
  connectedCallback() {
    let t = this.__F, e = t & 1, r = t & 8;
    if (!e && !(t & 1024)) {
      Zn.queue(this);
      return;
    }
    if (t & 48)
      return;
    this.__F |= 16, e || this[Pt](), t & 2 || (this.flags$ext = this.className, this.__F |= 2, this.hydrate(), this.commit()), r || (this.awaken(), this.__F |= 8), $(this, "mount");
    let s = this.mount();
    return s && s.then instanceof Function && s.then(k.commit), t = this.__F = (this.__F | 32) & -17, t & 64 && this.schedule(), this[Ot] && k.schedule(this, this[Ot]), this;
  }
  disconnectedCallback() {
    if (this.__F = this.__F & -49, this.__F & 128 && this.unschedule(), $(this, "unmount"), this.unmount(), this[Ot])
      return k.unschedule(this, this[Ot]);
  }
};
kt[Pt]();
var wf = kt;
function Kh(i, t) {
  let e = Object.getOwnPropertyDescriptors(t);
  return delete e.constructor, Object.defineProperties(i, e), i;
}
var to = Symbol.for("#__init__");
var Uh = { cm: 1, mm: 1, Q: 1, pc: 1, pt: 1, px: 1, em: 1, ex: 1, ch: 1, rem: 1, vw: 1, vh: 1, vmin: 1, vmax: 1, s: 1, ms: 1, fr: 1, "%": 1, in: 1, turn: 1, grad: 1, rad: 1, deg: 1, Hz: 1, kHz: 1 };
var eo = { prefix: 1, suffix: 1, content: 1 };
var Jr = { rose: [[356, 100, 97], [356, 100, 95], [353, 96, 90], [353, 96, 82], [351, 95, 71], [350, 89, 60], [347, 77, 50], [345, 83, 41], [343, 80, 35], [342, 75, 30]], pink: [[327, 73, 97], [326, 78, 95], [326, 85, 90], [327, 87, 82], [329, 86, 70], [330, 81, 60], [333, 71, 51], [335, 78, 42], [336, 74, 35], [336, 69, 30]], fuchsia: [[289, 100, 98], [287, 100, 95], [288, 96, 91], [291, 93, 83], [292, 91, 73], [292, 84, 61], [293, 69, 49], [295, 72, 40], [295, 70, 33], [297, 64, 28]], purple: [[270, 100, 98], [269, 100, 95], [269, 100, 92], [269, 97, 85], [270, 95, 75], [271, 91, 65], [271, 81, 56], [272, 72, 47], [273, 67, 39], [274, 66, 32]], violet: [[250, 100, 98], [251, 91, 95], [251, 95, 92], [252, 95, 85], [255, 92, 76], [258, 90, 66], [262, 83, 58], [263, 70, 50], [263, 69, 42], [264, 67, 35]], indigo: [[226, 100, 97], [226, 100, 94], [228, 96, 89], [230, 94, 82], [234, 89, 74], [239, 84, 67], [243, 75, 59], [245, 58, 51], [244, 55, 41], [242, 47, 34]], blue: [[214, 100, 97], [214, 95, 93], [213, 97, 87], [212, 96, 78], [213, 94, 68], [217, 91, 60], [221, 83, 53], [224, 76, 48], [226, 71, 40], [224, 64, 33]], sky: [[204, 100, 97], [204, 94, 94], [201, 94, 86], [199, 95, 74], [198, 93, 60], [199, 89, 48], [200, 98, 39], [201, 96, 32], [201, 90, 27], [202, 80, 24]], cyan: [[183, 100, 96], [185, 96, 90], [186, 94, 82], [187, 92, 69], [188, 86, 53], [189, 94, 43], [192, 91, 36], [193, 82, 31], [194, 70, 27], [196, 64, 24]], teal: [[166, 76, 97], [167, 85, 89], [168, 84, 78], [171, 77, 64], [172, 66, 50], [173, 80, 40], [175, 84, 32], [175, 77, 26], [176, 69, 22], [176, 61, 19]], emerald: [[152, 81, 96], [149, 80, 90], [152, 76, 80], [156, 72, 67], [158, 64, 52], [160, 84, 39], [161, 94, 30], [163, 94, 24], [163, 88, 20], [164, 86, 16]], green: [[138, 76, 97], [141, 84, 93], [141, 79, 85], [142, 77, 73], [142, 69, 58], [142, 71, 45], [142, 76, 36], [142, 72, 29], [143, 64, 24], [144, 61, 20]], lime: [[78, 92, 95], [80, 89, 89], [81, 88, 80], [82, 85, 67], [83, 78, 55], [84, 81, 44], [85, 85, 35], [86, 78, 27], [86, 69, 23], [88, 61, 20]], yellow: [[55, 92, 95], [55, 97, 88], [53, 98, 77], [50, 98, 64], [48, 96, 53], [45, 93, 47], [41, 96, 40], [35, 92, 33], [32, 81, 29], [28, 73, 26]], amber: [[48, 100, 96], [48, 96, 89], [48, 97, 77], [46, 97, 65], [43, 96, 56], [38, 92, 50], [32, 95, 44], [26, 90, 37], [23, 83, 31], [22, 78, 26]], orange: [[33, 100, 96], [34, 100, 92], [32, 98, 83], [31, 97, 72], [27, 96, 61], [25, 95, 53], [21, 90, 48], [17, 88, 40], [15, 79, 34], [15, 75, 28]], red: [[0, 86, 97], [0, 93, 94], [0, 96, 89], [0, 94, 82], [0, 91, 71], [0, 84, 60], [0, 72, 51], [0, 74, 42], [0, 70, 35], [0, 63, 31]], warmer: [[60, 9, 98], [60, 5, 96], [20, 6, 90], [24, 6, 83], [24, 5, 64], [25, 5, 45], [33, 5, 32], [30, 6, 25], [12, 6, 15], [24, 10, 10]], warm: [[0, 0, 98], [0, 0, 96], [0, 0, 90], [0, 0, 83], [0, 0, 64], [0, 0, 45], [0, 0, 32], [0, 0, 25], [0, 0, 15], [0, 0, 9]], gray: [[0, 0, 98], [240, 5, 96], [240, 6, 90], [240, 5, 84], [240, 5, 65], [240, 4, 46], [240, 5, 34], [240, 5, 26], [240, 4, 16], [240, 6, 10]], cool: [[210, 20, 98], [220, 14, 96], [220, 13, 91], [216, 12, 84], [218, 11, 65], [220, 9, 46], [215, 14, 34], [217, 19, 27], [215, 28, 17], [221, 39, 11]], cooler: [[210, 40, 98], [210, 40, 96], [214, 32, 91], [213, 27, 84], [215, 20, 65], [215, 16, 47], [215, 19, 35], [215, 25, 27], [217, 33, 17], [222, 47, 11]] };
var Bh = new RegExp("^(" + Object.keys(Jr).join("|") + ")(\\d+(?:\\.\\d+)?)$");
var Hh = /^([xyz])$/;
var Yh = /^([tlbr]|size|[whtlbr]|[mps][tlbrxy]?|[rcxy]?[gs])$/;
var Wh = `*,::before,::after {
box-sizing: border-box;
border-width: 0;
border-style: solid;
border-color: currentColor;
}`;
var Xr = class {
  constructor(t = null) {
    this[to](t);
  }
  [to](t = null) {
    var e;
    this.entries = t && (e = t.entries) !== void 0 ? e : {};
  }
  register(t, e) {
    let r = this.entries[t];
    r ? r && (r.css = e, r.node && (r.node.textContent = e)) : (r = this.entries[t] = { sourceId: t, css: e }, this.entries.resets || this.register("resets", Wh), r.node = globalThis.document.createElement("style"), r.node.setAttribute("data-id", t), r.node.textContent = r.css, globalThis.document.head.appendChild(r.node));
  }
  toString() {
    return Object.values(this.entries).map(function(t) {
      return t.css;
    }).join(`

`);
  }
  toValue(t, e, r, s = null) {
    let n;
    eo[r] && (t = String(t));
    let o = typeof t;
    if (o == "number") {
      if (e || (Hh.test(r) ? e = "px" : Yh.test(r) ? e = "u" : r == "rotate" && (e = "turn", t = (t % 1).toFixed(4))), e)
        return Uh[e] ? t + e : e == "u" ? t * 4 + "px" : "calc(var(--u_" + e + ",1px) * " + t + ")";
    } else if (o == "string") {
      if (r && eo[r] && t[0] != '"' && t[0] != "'" && (t.indexOf('"') >= 0 ? t.indexOf("'") == -1 && (t = "'" + t + "'") : t = '"' + t + '"'), n = t.match(Bh)) {
        let h = Jr[n[1]][parseInt(n[2])], u = "100%";
        if (typeof s == "number" ? u = s + "%" : typeof s == "string" && (u = s), h)
          return "hsla(" + h[0] + "," + h[1] + "%," + h[2] + "%," + u + ")";
      }
    } else if (t && t.toStyleString instanceof Function)
      return t.toStyleString();
    return t;
  }
  parseDimension(t) {
    if (typeof t == "string") {
      let [e, r, s] = t.match(/^([-+]?[\d\.]+)(%|\w+)$/);
      return [parseFloat(r), s];
    } else if (typeof t == "number")
      return [t];
  }
};
var Gh = new Xr();
var Cf = Object.keys(Jr);
function Of() {
  return true;
}
var Qr = class {
  css$(t, e, r) {
    return this.style[t] = e;
  }
  css$var(t, e, r, s, n = null) {
    let o = Gh.toValue(e, r, s, n);
    this.style.setProperty(t, o);
  }
};
Kh(b.prototype, Qr.prototype);
var Xh = Symbol.for("#insertInto");
var ro = Symbol.for("#removeFrom");
function If(i, t = {}) {
  let e = L.context;
  L.context = t;
  let r = i(t);
  return L.context == t && (L.context = e), r;
}
function Qh(i, t) {
  let e = t || globalThis.document.body, r = i;
  if (i instanceof Function) {
    let s = new Y(e, null), n = function() {
      let o = L.context;
      L.context = s;
      let l = i(s);
      return L.context == s && (L.context = o), l;
    };
    r = n(), k.listen("commit", n);
  } else
    r.__F |= 64;
  return r[Xh](e), r;
}
function Jh(i) {
  return i && i[ro] && i[ro](i.parentNode), i;
}
var io = globalThis.imba || (globalThis.imba = {});
io.mount = Qh;
io.unmount = Jh;
function Lt(i, t) {
  let e = Object.getOwnPropertyDescriptors(t);
  return delete e.constructor, Object.defineProperties(i, e), i;
}
function Wt(i) {
  let t;
  return i ? (t = i.toIterable) ? t.call(i) : i : [];
}
var Gt = Symbol.for("##onchange");
var Qt = Symbol.for("#afterVisit");
var Xt = Symbol.for("##oninput");
var Ye = Symbol.for("##onclick");
var Jt = Symbol.for("##bound");
var at = Symbol.for("##visitContext");
function Af() {
  return true;
}
var Zh = { INPUT: true, SELECT: true, TEXTAREA: true, BUTTON: true };
var Zr = function(i) {
  return i instanceof Array || i && i.has instanceof Function;
};
var oi = function(i, t) {
  return i == t ? true : i instanceof Array ? i.indexOf(t) >= 0 : i && i.has instanceof Function ? i.has(t) : i && i.contains instanceof Function ? i.contains(t) : false;
};
var li = function(i, t) {
  if (i instanceof Array)
    return i.push(t);
  if (i && i.add instanceof Function)
    return i.add(t);
};
var hi = function(i, t) {
  if (i instanceof Array) {
    let e = i.indexOf(t);
    if (e >= 0)
      return i.splice(e, 1);
  } else if (i && i.delete instanceof Function)
    return i.delete(t);
};
function tu(i) {
  function t() {
    return i[0] ? i[0][i[1]] : void 0;
  }
  function e(r) {
    return i[0] ? i[0][i[1]] = r : null;
  }
  return { get: t, set: e };
}
var ti = class {
  getRichValue() {
    return this.value;
  }
  setRichValue(t) {
    return this.value = t;
  }
  bind$(t, e) {
    let r = e || [];
    return t == "data" && !this[Jt] && Zh[this.nodeName] && (this[Jt] = true, this[Gt] && this.addEventListener("change", this[Gt] = this[Gt].bind(this)), this[Xt] && this.addEventListener("input", this[Xt] = this[Xt].bind(this), { capture: true }), this[Ye] && this.addEventListener("click", this[Ye] = this[Ye].bind(this), { capture: true })), Object.defineProperty(this, t, r instanceof Array ? tu(r) : r), r;
  }
};
Lt(b.prototype, ti.prototype);
Object.defineProperty(b.prototype, "richValue", { get: function() {
  return this.getRichValue();
}, set: function(i) {
  return this.setRichValue(i);
} });
var ei = class {
  [Gt](t) {
    let e = this.data, r = this.$$value;
    this.$$value = void 0;
    let s = this.getRichValue();
    if (this.multiple) {
      if (r)
        for (let n = 0, o = Wt(r), l = o.length; n < l; n++) {
          let h = o[n];
          s.indexOf(h) == -1 && hi(e, h);
        }
      for (let n = 0, o = Wt(s), l = o.length; n < l; n++) {
        let h = o[n];
        (!r || r.indexOf(h) == -1) && li(e, h);
      }
    } else
      this.data = s[0];
    return C(), this;
  }
  getRichValue() {
    var t;
    if (this.$$value)
      return this.$$value;
    t = [];
    for (let e = 0, r = Wt(this.selectedOptions), s = r.length; e < s; e++) {
      let n = r[e];
      t.push(n.richValue);
    }
    return this.$$value = t;
  }
  syncValue() {
    let t = this.data;
    if (this.multiple) {
      let e = [];
      for (let r = 0, s = Wt(this.options), n = s.length; r < n; r++) {
        let o = s[r], l = o.richValue, h = oi(t, l);
        o.selected = h, h && e.push(l);
      }
      this.$$value = e;
    } else
      for (let e = 0, r = Wt(this.options), s = r.length; e < s; e++) {
        let o = r[e].richValue;
        if (o == t) {
          this.$$value = [o], this.selectedIndex = e;
          break;
        }
      }
  }
  [Qt]() {
    if (this.syncValue(), this[at])
      return this[at] = null;
  }
};
Lt(_n.prototype, ei.prototype);
var ri = class {
  setRichValue(t) {
    return this.$$value = t, this.value = t;
  }
  getRichValue() {
    return this.$$value !== void 0 ? this.$$value : this.value;
  }
};
Lt(xn.prototype, ri.prototype);
var ii = class {
  setRichValue(t) {
    return this.$$value = t, this.value = t;
  }
  getRichValue() {
    return this.$$value !== void 0 ? this.$$value : this.value;
  }
  [Xt](t) {
    return this.data = this.value, C();
  }
  [Qt]() {
    let t = this.data;
    if (t == null && (t = ""), this[Jt] && this.value != t && (this.value = t), this[at])
      return this[at] = null;
  }
};
Lt(vn.prototype, ii.prototype);
var si = class {
  [Xt](t) {
    let e = this.type;
    if (!(e == "checkbox" || e == "radio") && !(e == "number" && Number.isNaN(this.valueAsNumber)))
      return this.$$value = void 0, this.data = this.richValue, C();
  }
  [Gt](t) {
    let e = this.data, r = this.richValue;
    if (this.type == "checkbox" || this.type == "radio") {
      let s = this.checked;
      Zr(e) ? s ? li(e, r) : hi(e, r) : this.data = s ? r : false;
    }
    return C();
  }
  setRichValue(t) {
    this.$$value !== t && (this.$$value = t, this.value !== t && (this.value = t));
  }
  getRichValue() {
    if (this.$$value !== void 0)
      return this.$$value;
    let t = this.value, e = this.type;
    if (e == "range" || e == "number") {
      let r = this.valueAsNumber;
      Number.isNaN(r) && (r = Number(t.replace(/\,/, ".") + 0)), Number.isNaN(r) && (r = null), t = r;
    } else
      e == "checkbox" && (t == null || t === "on") && (t = true);
    return t;
  }
  [Qt]() {
    if (this[Jt]) {
      let t = this.type;
      if (t == "checkbox" || t == "radio") {
        let e = this.data;
        e === true || e === false || e == null ? this.checked = !!e : this.checked = oi(e, this.richValue);
      } else
        this.richValue = this.data;
    }
    this[at] && (this[at] = null);
  }
};
Lt(bn.prototype, si.prototype);
var ni = class {
  get checked() {
    return this.$checked;
  }
  set checked(t) {
    t != this.$checked && (this.$checked = t, this.flags.toggle("checked", !!t));
  }
  setRichValue(t) {
    return this.$$value = t, this.value = t;
  }
  getRichValue() {
    return this.$$value !== void 0 ? this.$$value : this.value;
  }
  [Ye](t) {
    let e = this.data, r = this.checked, s = this.richValue;
    return Zr(e) ? r ? hi(e, s) : li(e, s) : this.$$value == null ? this.data = !r : this.data = r ? null : s, this[Qt](), C();
  }
  [Qt]() {
    if (this[Jt]) {
      let t = this.data, e = this.$$value == null ? true : this.$$value;
      Zr(t) ? this.checked = oi(t, e) : this.checked = t == e;
    }
    this[at] && (this[at] = null);
  }
};
Lt(Sn.prototype, ni.prototype);
function so(i) {
  let t;
  return i ? (t = i.toIterable) ? t.call(i) : i : [];
}
var eu = Symbol.for("#getSlot");
var ru = Symbol.for("#container");
var iu = Symbol.for("#afterVisit");
var bt = Symbol.for("#__init__");
var no = Symbol.for("#__initor__");
var oo = Symbol.for("#__inited__");
var We = Symbol.for("#listeners");
var X = Symbol.for("#slot");
var su = Symbol.for("#parent");
var q = Symbol.for("##container");
var ui = Symbol.for("#domTarget");
var lo = Symbol.for("#insertInto");
var nu = Symbol.for("#removeFrom");
var ou = Symbol.for("#teleport");
var lu = Symbol.for("#self");
var hu = Symbol.for("#target");
var ho = Symbol();
var Zt = class extends kt {
  static [bt]() {
    return this.prototype[no] = ho, this;
  }
  constructor() {
    super(...arguments), super[bt] || this[bt](), this[no] === ho && this[oo] && this[oo]();
  }
  [bt](t = null) {
    super[bt] && super[bt](...arguments), this.to = t ? t.to : void 0;
  }
  build() {
    return this[We] = [], this.win = globalThis, this.doc = globalThis.document;
  }
  setup() {
    return this.setAttribute("style", "display:none !important;");
  }
  [eu](t, e) {
    return this[X] || (this[X] = je(0, this[su])), this[X];
  }
  get [ru]() {
    if (!this[q]) {
      let t = this.className;
      this[q] = this.doc.createElement("div"), this[q].className = t, this[q].style.cssText = "display:contents !important;";
    }
    return this[q];
  }
  get domTarget() {
    return this[ui] || (this[ui] = this.to instanceof b ? this.to : this.closest(this.to) || this.doc.querySelector(this.to));
  }
  get eventTarget() {
    return this.domTarget;
  }
  get style() {
    return this[q] ? this[q].style : super.style;
  }
  get classList() {
    return this[q] ? this[q].classList : super.classList;
  }
  get className() {
    return this[q] ? this[q].className : super.className;
  }
  set className(t) {
    this[q] ? this[q].className = t : super.className = t;
  }
  [iu]() {
    if (this.mounted\u03A6 && this[X] && !this[X].parentNode)
      return this[X][lo](this.target);
  }
  mount() {
    for (let e = 0, r = so(this[We]), s = r.length; e < s; e++) {
      let [n, o, l] = r[e];
      this.eventTarget.addEventListener(n, o, l);
    }
    let t = this.domTarget;
    return this[X] && this[X][lo](t), this;
  }
  unmount() {
    for (let t = 0, e = so(this[We]), r = e.length; t < r; t++) {
      let [s, n, o] = e[t];
      this.eventTarget.removeEventListener(s, n, o);
    }
    return this[X] && this[X][nu](this.domTarget), this[ui] = null, this;
  }
  addEventListener(t, e, r = {}) {
    var s;
    if (e[ou] = this, e[lu] = this, this[We].push([t, e, r]), this.mounted\u03A6 && ((s = this.eventTarget) == null ? void 0 : s.addEventListener))
      return this.eventTarget.addEventListener(t, e, r);
  }
};
Zt[bt]();
var ai = class extends Zt {
  get domTarget() {
    return this.doc.body;
  }
  get eventTarget() {
    return this.win;
  }
  addEventListener(t, e, r = {}) {
    return e[hu] = this.domTarget.parentNode, super.addEventListener(...arguments);
  }
  on$resize(t, e, r, s) {
    return this.addEventListener("resize", r, s), r;
  }
};
globalThis.customElements && (globalThis.customElements.define("i-teleport", Zt), globalThis.customElements.define("i-global", ai));
function zf() {
  return true;
}
function ft(i) {
  let t;
  return i ? (t = i.toIterable) ? t.call(i) : i : [];
}
function uu(i, t) {
  let e = Object.getOwnPropertyDescriptors(t);
  return delete e.constructor, Object.defineProperties(i, e), i;
}
var st = Symbol.for("#__init__");
var Ge = Symbol.for("#__initor__");
var Xe = Symbol.for("#__inited__");
var fi = Symbol.for("#insertInto");
var ci = Symbol.for("#removeFrom");
var au = Symbol.for("#all");
var te = Symbol.for("#phase");
var it = Symbol.for("#nodes");
var fu = Symbol.for("#sizes");
var uo = Symbol.for("#mode");
var ao = Symbol.for("#enabled");
var cu = Symbol.for("#easer");
var fo = Symbol.for("#anims");
var di = Symbol.for("#_easer_");
var co = Symbol();
var po = Symbol();
var Qe = class extends $t {
  static [st]() {
    return this.prototype[Ge] = co, this;
  }
  constructor() {
    super(...arguments), super[st] || this[st](), this[Ge] === co && this[Xe] && this[Xe]();
  }
  [st](t = null) {
    var e;
    super[st] && super[st](...arguments), this.selectors = t && (e = t.selectors) !== void 0 ? e : {};
  }
  addSelectors(t, e) {
    var r;
    return ((r = this.selectors)[e] || (r[e] = [])).push(...t), true;
  }
  getSelectors(...t) {
    let e = [];
    for (let r = 0, s = ft(t), n = s.length; r < n; r++) {
      let o = s[r];
      this.selectors[o] && e.push(...this.selectors[o]);
    }
    return e && e.length ? e.join(",") : null;
  }
  nodesForBase(t, e = "transition") {
    let r = [t], s = (this.selectors[e] || []).join(",");
    if (s == "")
      return r;
    let n = t.querySelectorAll(s);
    for (let o = 0, l = ft(n), h = l.length; o < h; o++) {
      let u = l[o];
      u.closest("._ease_") == t && r.push(u);
    }
    return r[au] = n, r;
  }
  nodesWithSize(t, e = "in") {
    let r = this.getSelectors("_off_sized", "_" + e + "_sized");
    return r ? t.filter(function(s) {
      return s.matches(r);
    }) : [];
  }
};
Qe[st]();
var pi = new Qe();
var du = globalThis.imba || (globalThis.imba = {});
du.transitions = pi;
var Je = class extends $t {
  static [st]() {
    return this.prototype[Ge] = po, this;
  }
  constructor(t) {
    super(), this.dom = t, this[te] = null, this[it] = [], this[fu] = /* @__PURE__ */ new Map(), this[Ge] === po && this[Xe] && this[Xe]();
  }
  log(...t) {
  }
  get flags() {
    return this.dom.flags;
  }
  flag(t) {
    for (let e = 0, r = ft(this[it]), s = r.length; e < s; e++)
      r[e].flags.add(t);
    return this;
  }
  unflag(t) {
    for (let e = 0, r = ft(this[it]), s = r.length; e < s; e++)
      r[e].flags.remove(t);
    return this;
  }
  commit() {
    return this.dom.offsetWidth;
  }
  enable(t) {
    return t && (this[uo] = t), this[ao] != true && (this[ao] = true, true) ? (this.dom[fi] = this[fi].bind(this), this.dom[ci] = this[ci].bind(this), this.flags.add("_ease_")) : this;
  }
  disable() {
    return this.flags.remove("_ease_"), true;
  }
  set phase(t) {
    var r, s, n, o, l, h, u, c, a, p, v, f;
    let e = this[te];
    this[te] != t && (this[te] = t, true) && (e && this.unflag("_" + e + "_"), t && this.flag("_" + t + "_"), t || (this.unflag("_out_"), this.unflag("_in_"), this.unflag("_off_"), this[it] = null), t == "enter" && e == "leave" && ((s = (r = this.dom) == null ? void 0 : r.transition\u039Eout\u039Ecancel) == null || s.call(r, this)), t == "leave" && e == "enter" && ((o = (n = this.dom) == null ? void 0 : n.transition\u039Ein\u039Ecancel) == null || o.call(n, this)), t == "enter" && ((h = (l = this.dom) == null ? void 0 : l.transition\u039Ein) == null || h.call(l, this)), t == "leave" && ((c = (u = this.dom) == null ? void 0 : u.transition\u039Eout) == null || c.call(u, this)), e == "leave" && !t && ((p = (a = this.dom) == null ? void 0 : a.transition\u039Eout\u039Eend) == null || p.call(a, this)), e == "enter" && !t && ((f = (v = this.dom) == null ? void 0 : v.transition\u039Ein\u039Eend) == null || f.call(v, this)));
  }
  get phase() {
    return this[te];
  }
  get leaving\u03A6() {
    return this.phase == "leave";
  }
  get entering\u03A6() {
    return this.phase == "enter";
  }
  get idle\u03A6() {
    return this.phase == null;
  }
  track(t) {
    var e = this;
    let r = { before: Fe().getAnimations() };
    return this.commit(), t(), this.commit(), r.after = Fe().getAnimations(), r.fresh = r.after.filter(function(s) {
      return r.before.indexOf(s) == -1;
    }), r.deep = r.fresh.filter(function(s) {
      let n;
      return !!((n = s.effect.target) && n.closest("._ease_") != e.dom);
    }), r.own = r.fresh.filter(function(s) {
      return r.deep.indexOf(s) == -1;
    }), r.own.length ? r.finished = new Promise(function(s) {
      let n = new Set(r.own), o = function() {
        if (n.delete(this), n.size == 0)
          return s();
      };
      for (let l = 0, h = ft(r.own), u = h.length; l < u; l++) {
        let c = h[l];
        c[cu] = e, c.addEventListener("finish", o, { once: true }), c.addEventListener("cancel", o, { once: true });
      }
    }) : r.finished = Promise.resolve(true), r;
  }
  getAnimatedNodes() {
    return pi.nodesForBase(this.dom);
  }
  getNodeSizes(t = "in", e = this[it]) {
    let r = pi.nodesWithSize(e, t), s = /* @__PURE__ */ new Map();
    for (let n = 0, o = ft(r), l = o.length; n < l; n++) {
      let h = o[n], u = window.getComputedStyle(h);
      s.set(h, { width: u.width, height: u.height });
    }
    return s;
  }
  applyNodeSizes(t) {
    for (let [e, r] of ft(t))
      e.style.width = r.width, e.style.height = r.height;
    return t;
  }
  clearNodeSizes(t) {
    if (!!t) {
      for (let [e, r] of ft(t))
        e.style.removeProperty("width"), e.style.removeProperty("height");
      return t;
    }
  }
  [fi](t, e) {
    var h, u;
    var r = this;
    let s;
    if (this.entering\u03A6)
      return this.dom;
    let n = function() {
      if (s && r.clearNodeSizes(s), r.entering\u03A6)
        return r.phase = null;
    };
    if (r.leaving\u03A6)
      return r.track(function() {
        return r.phase = "enter", r.unflag("_off_"), r.unflag("_out_");
      }).finished.then(n, function(a) {
        return r.log("error cancel leave", a);
      }), r.dom;
    let o = Fe().contains(t);
    return e ? t.insertBefore(r.dom, e) : t.appendChild(r.dom), this[it] = r.getAnimatedNodes(), r.flag("_instant_"), r.unflag("_out_"), r.commit(), s = this[it].sized = r.getNodeSizes("in"), (u = (h = r.dom) == null ? void 0 : h.transition\u039Ein\u039Einit) == null || u.call(h, r), r.flag("_off_"), r.flag("_in_"), r.flag("_enter_"), r.commit(), r.unflag("_instant_"), (this[fo] = r.track(function() {
      return r.phase = "enter", r.applyNodeSizes(s), r.unflag("_off_"), r.unflag("_in_");
    })).finished.then(n, function(c) {
      return r.clearNodeSizes(s), r.log("cancelled insert into", c);
    }), r.dom;
  }
  [ci](t) {
    var e = this;
    if (this.leaving\u03A6)
      return;
    let r, s = function() {
      if (e.phase == "leave")
        return e.dom.emit("easeoutend", {}), t.removeChild(e.dom), e.phase = null;
    };
    if (e.entering\u03A6 && this[uo] != "forward") {
      let o = e.track(function() {
        return e.flag("_off_"), e.flag("_in_"), e.unflag("_out_"), e.phase = "leave", e.clearNodeSizes(e[it].sized);
      });
      e.log("cancel enter anims own", o.own, o), o.finished.then(s, function(l) {
        return e.log("error cancel entering", l);
      });
      return;
    }
    this[it] = e.getAnimatedNodes(), r = e.getNodeSizes("out"), e.applyNodeSizes(r), e.flag("_leave_");
    let n = this[fo] = e.track(function() {
      return e.phase = "leave", e.flag("_off_"), e.flag("_out_"), e.clearNodeSizes(r);
    });
    if (!n.own.length) {
      s();
      return;
    }
    n.finished.then(s, function() {
      return true;
    });
  }
};
Je[st]();
var mi = class {
  transition\u039Ein\u039Einit(t) {
    return true;
  }
  transition\u039Ein(t) {
    return true;
  }
  transition\u039Ein\u039Eend(t) {
    return true;
  }
  transition\u039Ein\u039Ecancel(t) {
    return true;
  }
  transition\u039Eout(t) {
    return true;
  }
  transition\u039Eout\u039Eend(t) {
    return true;
  }
  transition\u039Eout\u039Ecancel(t) {
    return true;
  }
  get ease() {
    return this[di] || (this[di] = new Je(this));
  }
  set ease(t) {
    var e, r;
    if (t == false) {
      (r = (e = this[di]) == null ? void 0 : e.disable) == null || r.call(e);
      return;
    }
    this.ease.enable(t);
  }
};
uu(b.prototype, mi.prototype);
function Bf() {
  return true;
}
function pu(i, t) {
  let e = Object.getOwnPropertyDescriptors(t);
  return delete e.constructor, Object.defineProperties(i, e), i;
}
function mo() {
  return true;
}
var gi = class {
  \u03B1esc() {
    return this.keyCode == 27;
  }
  \u03B1tab() {
    return this.keyCode == 9;
  }
  \u03B1enter() {
    return this.keyCode == 13;
  }
  \u03B1space() {
    return this.keyCode == 32;
  }
  \u03B1up() {
    return this.keyCode == 38;
  }
  \u03B1down() {
    return this.keyCode == 40;
  }
  \u03B1left() {
    return this.keyCode == 37;
  }
  \u03B1right() {
    return this.keyCode == 39;
  }
  \u03B1del() {
    return this.keyCode == 8 || this.keyCode == 46;
  }
  \u03B1key(t) {
    if (typeof t == "string")
      return this.key == t;
    if (typeof t == "number")
      return this.keyCode == t;
  }
};
pu(yn.prototype, gi.prototype);
function mu(i, t) {
  let e = Object.getOwnPropertyDescriptors(t);
  return delete e.constructor, Object.defineProperties(i, e), i;
}
function Ze() {
  return true;
}
var yi = class {
  \u03B1left() {
    return this.button == 0;
  }
  \u03B1middle() {
    return this.button == 1;
  }
  \u03B1right() {
    return this.button == 2;
  }
  \u03B1shift() {
    return !!this.shiftKey;
  }
  \u03B1alt() {
    return !!this.altKey;
  }
  \u03B1ctrl() {
    return !!this.ctrlKey;
  }
  \u03B1meta() {
    return !!this.metaKey;
  }
  \u03B1mod() {
    let t = globalThis.navigator.platform;
    return /^(Mac|iPhone|iPad|iPod)/.test(t || "") ? !!this.metaKey : !!this.ctrlKey;
  }
};
mu(mn.prototype, yi.prototype);
function xi(i, t) {
  let e = Object.getOwnPropertyDescriptors(t);
  return delete e.constructor, Object.defineProperties(i, e), i;
}
function go(i) {
  let t;
  return i ? (t = i.toIterable) ? t.call(i) : i : [];
}
var gu = Symbol.for("#extendType");
var yu = Symbol.for("#modifierState");
var tr = Symbol.for("#sharedModifierState");
var yo = Symbol.for("#onceHandlerEnd");
var _o = Symbol.for("#extendDescriptors");
var z = Symbol.for("#context");
var bo = Symbol.for("#self");
var _u = Symbol.for("#target");
var vo = Symbol.for("#stopPropagation");
var So = Symbol.for("#defaultPrevented");
var bu = Symbol.for("#teleport");
mo();
Ze();
var _i = class {
  [gu](t) {
    var e, r, s;
    let n = t[_o] || (t[_o] = (r = Object.getOwnPropertyDescriptors(t.prototype), s = r.constructor, delete r.constructor, r));
    return Object.defineProperties(this, n);
  }
};
xi(P.prototype, _i.prototype);
var bi = class {
  get [yu]() {
    var t, e;
    return (t = this[z])[e = this[z].step] || (t[e] = {});
  }
  get [tr]() {
    var t, e;
    return (t = this[z].handler)[e = this[z].step] || (t[e] = {});
  }
  [yo](t) {
    return D(this[z], "end", t);
  }
  \u03B1sel(t) {
    return !!this.target.matches(String(t));
  }
  \u03B1closest(t) {
    return !!this.target.closest(String(t));
  }
  \u03B1log(...t) {
    return console.info(...t), true;
  }
  \u03B1trusted() {
    return !!this.isTrusted;
  }
  \u03B1if(t) {
    return !!t;
  }
  \u03B1wait(t = 250) {
    return new Promise(function(e) {
      return setTimeout(e, jt(t));
    });
  }
  \u03B1self() {
    return this.target == this[z].element;
  }
  \u03B1cooldown(t = 250) {
    let e = this[tr];
    return e.active ? false : (e.active = true, e.target = this[z].element, e.target.flags.incr("cooldown"), this[yo](function() {
      return setTimeout(function() {
        return e.target.flags.decr("cooldown"), e.active = false;
      }, jt(t));
    }), true);
  }
  \u03B1throttle(t = 250) {
    let e = this[tr];
    return e.active ? (e.next && e.next(false), new Promise(function(r) {
      return e.next = function(s) {
        return e.next = null, r(s);
      };
    })) : (e.active = true, e.el || (e.el = this[z].element), e.el.flags.incr("throttled"), D(this[z], "end", function() {
      let r = jt(t);
      return e.interval = setInterval(function() {
        e.next ? e.next(true) : (clearInterval(e.interval), e.el.flags.decr("throttled"), e.active = false);
      }, r);
    }), true);
  }
  \u03B1debounce(t = 250) {
    let e = this[tr], r = this;
    return e.queue || (e.queue = []), e.queue.push(e.last = r), new Promise(function(s) {
      return setTimeout(function() {
        return e.last == r ? (r.debounced = e.queue, e.last = null, e.queue = [], s(true)) : s(false);
      }, jt(t));
    });
  }
  \u03B1flag(t, e) {
    let { element: r, step: s, state: n, id: o, current: l } = this[z], h = e instanceof b ? e : e ? r.closest(e) : r;
    if (!h)
      return true;
    this[z].commit = true, n[s] = o, h.flags.incr(t);
    let u = Date.now();
    return D(l, "end", function() {
      let c = Date.now() - u, a = Math.max(250 - c, 0);
      return setTimeout(function() {
        return h.flags.decr(t);
      }, a);
    }), true;
  }
  \u03B1busy(t) {
    return this.\u03B1flag("busy", t);
  }
  \u03B1mod(t) {
    return this.\u03B1flag("mod-" + t, globalThis.document.documentElement);
  }
  \u03B1outside() {
    let { handler: t } = this[z];
    if (t && t[bo])
      return !t[bo].parentNode.contains(this.target);
  }
};
xi(W.prototype, bi.prototype);
var sc = {};
function nc() {
  return true;
}
var vi = class {
  constructor(t, e) {
    this.params = t, this.closure = e;
  }
  getHandlerForMethod(t, e) {
    return t ? t[e] ? t : this.getHandlerForMethod(t.parentNode, e) : null;
  }
  emit(t, ...e) {
    return $(this, t, e);
  }
  on(t, ...e) {
    return R(this, t, ...e);
  }
  once(t, ...e) {
    return D(this, t, ...e);
  }
  un(t, ...e) {
    return yt(this, t, ...e);
  }
  get passive\u03A6() {
    return this.params.passive;
  }
  get capture\u03A6() {
    return this.params.capture;
  }
  get silent\u03A6() {
    return this.params.silent;
  }
  get global\u03A6() {
    return this.params.global;
  }
  async handleEvent(t) {
    let e = this[_u] || t.currentTarget, r = this.params, s = null, n = r.silence || r.silent;
    this.count || (this.count = 0), this.state || (this.state = {});
    let o = { element: e, event: t, modifiers: r, handler: this, id: ++this.count, step: -1, state: this.state, commit: null, current: null };
    if (o.current = o, t.handle$mod && t.handle$mod.apply(o, r.options || []) == false)
      return;
    let l = W[this.type + "$handle"] || W[t.type + "$handle"] || t.handle$mod || this.guard;
    if (!(l && l.apply(o, r.options || []) == false)) {
      this.currentEvents || (this.currentEvents = /* @__PURE__ */ new Set()), this.currentEvents.add(t);
      for (let h = 0, u = Object.keys(r), c = u.length, a, p; h < c; h++) {
        if (a = u[h], p = r[a], o.step++, a[0] == "_")
          continue;
        a.indexOf("~") > 0 && (a = a.split("~")[0]);
        let v = null, f = [t, o], d, m = null, g, _ = false, E = typeof a == "string";
        if (a[0] == "$" && a[1] == "_" && p[0] instanceof Function)
          a = p[0], a.passive || (o.commit = true), f = [t, o].concat(p.slice(1)), m = e;
        else if (p instanceof Array) {
          f = p.slice(), v = f;
          for (let y = 0, S = go(f), O = S.length; y < O; y++) {
            let M = S[y];
            if (typeof M == "string" && M[0] == "~" && M[1] == "$") {
              let ve = M.slice(2).split("."), Se = o[ve.shift()] || t;
              for (let vr = 0, Ls = go(ve), Rl = Ls.length; vr < Rl; vr++) {
                let $l = Ls[vr];
                Se = Se ? Se[$l] : void 0;
              }
              f[y] = Se;
            }
          }
        }
        if (typeof a == "string" && (g = a.match(/^(emit|flag|mod|moved|pin|fit|refit|map|remap|css)-(.+)$/)) && (v || (v = f = []), f.unshift(g[2]), a = g[1]), a == "trap")
          t[vo] = true, t.stopImmediatePropagation(), t[So] = true, t.preventDefault();
        else if (a == "stop")
          t[vo] = true, t.stopImmediatePropagation();
        else if (a == "prevent")
          t[So] = true, t.preventDefault();
        else if (a == "commit")
          o.commit = true;
        else if (a == "once")
          e.removeEventListener(t.type, this);
        else {
          if (a == "options" || a == "silence" || a == "silent")
            continue;
          if (a == "emit") {
            let y = f[0], S = f[1], O = new P(y, { bubbles: true, detail: S });
            O.originalEvent = t;
            let br = (this[bu] || e).dispatchEvent(O);
          } else if (typeof a == "string") {
            a[0] == "!" && (_ = true, a = a.slice(1));
            let y = "\u03B1" + a, S = t[y];
            S || (S = this.type && W[this.type + "$" + a + "$mod"]), S || (S = t[a + "$mod"] || W[t.type + "$" + a] || W[a + "$mod"]), S instanceof Function ? (a = S, m = o, f = v || [], t[y] && (m = t, t[z] = o)) : a[0] == "_" ? (a = a.slice(1), m = this.closure) : m = this.getHandlerForMethod(e, a);
          }
        }
        try {
          a instanceof Function ? d = a.apply(m || e, f) : m && (d = m[a].apply(m, f)), d && d.then instanceof Function && d != k.$promise && (o.commit && !n && k.commit(), d = await d);
        } catch (y) {
          s = y;
          break;
        }
        if (_ && d === true || !_ && d === false)
          break;
        o.value = d;
      }
      if ($(o, "end", o), o.commit && !n && k.commit(), this.currentEvents.delete(t), this.currentEvents.size == 0 && this.emit("idle"), s != null) {
        if (this.type != "error") {
          let h = s instanceof Error ? s.message : s, u = new P("error", { detail: h, bubbles: true, cancelable: true });
          u.error = s, u.originalEvent = t;
          let c = e.dispatchEvent(u);
          if (u.defaultPrevented)
            return;
        }
        throw s;
      }
    }
  }
};
var Si = class {
  on$(t, e, r) {
    let s = "on$" + t, n;
    n = new vi(e, r);
    let o = e.capture || false, l = e.passive, h = o;
    return l && (h = { passive: l, capture: o }), this[s] instanceof Function ? n = this[s](e, r, n, h) : this.addEventListener(t, n, h), n;
  }
  on$error(t, e, r, s) {
    var n;
    return (n = t.options) != null && n.length && (r.guard = function(...o) {
      let l = this.event.error;
      return !!o.find(function(u) {
        return l instanceof u;
      });
    }), this.addEventListener("error", r, s), r;
  }
};
xi(b.prototype, Si.prototype);
var er = new class {
  get ios\u03A6() {
    let i = globalThis.navigator.platform || "";
    return !!(i.match(/iPhone|iPod|iPad/) || i == "MacIntel" && globalThis.navigator.maxTouchPoints > 2);
  }
}();
function It(i, t) {
  let e = t;
  return i instanceof Element ? i : typeof i == "string" ? i == "this" || i == "" ? e : i == "up" ? e.parentNode : i == "op" ? e.offsetParent : e.closest(i) || e.querySelector(i) || globalThis.document.querySelector(i) : null;
}
function ct(i) {
  if (typeof i == "string") {
    let [t, e, r] = i.match(/^([-+]?[\d\.]+)(%|\w+)$/);
    return [parseFloat(e), r];
  } else if (typeof i == "number")
    return [i];
}
function rr(i, t = 1) {
  let e = 1 / t;
  return Math.round(i * e) / e;
}
function vu(i, t, e) {
  return t > e ? Math.max(e, Math.min(t, i)) : Math.min(e, Math.max(t, i));
}
function wi(i, t, e, r, s = 0.1) {
  let [n, o] = ct(e), [l, h] = ct(r), [u, c] = ct(s);
  return o == "%" && (n = (t - i) * (n / 100)), h == "%" && (l = (t - i) * (l / 100)), c == "%" && (u = (l - n) * (u / 100)), function(a, p) {
    let v = (a - i) / (t - i), f = n + (l - n) * v;
    return s && (f = rr(f, u)), p && (f = vu(f, n, l)), f;
  };
}
function Su(i, t) {
  let e = Object.getOwnPropertyDescriptors(t);
  return delete e.constructor, Object.defineProperties(i, e), i;
}
Ze();
function cc() {
  return true;
}
var Ei = class {
  \u03B1primary() {
    return !!this.isPrimary;
  }
  \u03B1mouse() {
    return this.pointerType == "mouse";
  }
  \u03B1pen() {
    return this.pointerType == "pen";
  }
  \u03B1touch() {
    return this.pointerType == "touch";
  }
  \u03B1pressure(t = 0.5) {
    return this.pressure >= t;
  }
  \u03B1lock() {
    return true;
  }
};
Su(gn.prototype, Ei.prototype);
function xu(i, t) {
  let e = Object.getOwnPropertyDescriptors(t);
  return delete e.constructor, Object.defineProperties(i, e), i;
}
var xo = Symbol.for("#capture");
var Q = Symbol.for("#step");
var wu = Symbol.for("#cancel");
var Ni = Symbol.for("#reframe");
var wo = Symbol.for("#mods");
var Ci = Symbol.for("#dx");
var Oi = Symbol.for("#dy");
var dt = Symbol.for("#context");
var ir = Symbol.for("#locked");
var Co = Symbol.for("#teardown");
var To = Symbol.for("#x");
var Eo = Symbol.for("#y");
var Tu = Symbol.for("#pinTarget");
function gc() {
  return true;
}
var No = null;
var Pi = class {
  constructor(t, e, r) {
    this.phase = "init", this.events = [], this.originalEvent = t, this.handler = e, this.target = this.currentTarget = r, this[wo] = {};
  }
  set event(t) {
    this.events.push(t);
  }
  get ctrlKey() {
    return this.originalEvent.ctrlKey;
  }
  get altKey() {
    return this.originalEvent.altKey;
  }
  get shiftKey() {
    return this.originalEvent.shiftKey;
  }
  get metaKey() {
    return this.originalEvent.metaKey;
  }
  get isPrimary() {
    return this.originalEvent.isPrimary;
  }
  get pointerType() {
    return this.originalEvent.pointerType;
  }
  get start() {
    return this.originalEvent;
  }
  get originalTarget() {
    return this.originalEvent.target;
  }
  get event() {
    return this.events[this.events.length - 1];
  }
  get elapsed() {
    return this.event.timeStamp - this.events[0].timeStamp;
  }
  get type() {
    return this.event.type;
  }
  get pointerId() {
    return this.originalEvent.pointerId;
  }
  get pressure() {
    return this.event.pressure;
  }
  get clientX() {
    return this.event.clientX;
  }
  get clientY() {
    return this.event.clientY;
  }
  get offsetX() {
    return this.event.offsetX;
  }
  get offsetY() {
    return this.event.offsetY;
  }
  get active\u03A6() {
    return this.phase != "ended";
  }
  get ended\u03A6() {
    return this.phase == "ended";
  }
  get dx() {
    return this[Ci] == null ? this.event.x - this.start.x : this[Ci];
  }
  get dy() {
    return this[Oi] == null ? this.event.y - this.start.y : this[Oi];
  }
  stopImmediatePropagation() {
    return this.cancelBubble = true, this.event.stopImmediatePropagation(), this;
  }
  stopPropagation() {
    return this.cancelBubble = true, this.event.stopPropagation(), this;
  }
  preventDefault() {
    return this.defaultPrevented = true, this.event.preventDefault();
  }
  emit(t, ...e) {
    return $(this, t, e);
  }
  on(t, ...e) {
    return R(this, t, ...e);
  }
  once(t, ...e) {
    return D(this, t, ...e);
  }
  un(t, ...e) {
    return yt(this, t, ...e);
  }
  \u03B1flag(t, e) {
    let { element: r } = this[dt], s = Date.now(), n = e instanceof b ? e : e ? r.closest(e) : r;
    return this[Q].setup != true && (this[Q].setup = true, true) && (n.flags.incr(t), D(this, "end", function() {
      return n.flags.decr(t);
    })), true;
  }
  \u03B1lock() {
    return this[xo](), true;
  }
  [xo]() {
    if (this[ir] != true && (this[ir] = true, true))
      return this[dt].element.setPointerCapture(this.pointerId);
  }
  get [Q]() {
    var t, e;
    return (t = this[wo])[e = this[dt].step] || (t[e] = {});
  }
  [wu]() {
    return this[Co]();
  }
  \u03B1moved(t, e) {
    let r = this[Q], { element: s, state: n, event: o } = this[dt];
    if (!r.setup) {
      let a = t || 4;
      typeof t == "string" && t.match(/^(up|down|left|right|x|y)$/) && (r.dir = t, a = e || 4), typeof e == "string" && e.match(/^(up|down|left|right|x|y)$/) && (r.dir = e), r.setup = true;
      let [p, v] = ct(a);
      r.threshold = p, r.sy = p, r.x0 = this.x, r.y0 = this.y, r.dir || (r.dir = "dist"), r.x = r.left = r.right = r.y = r.up = r.down = r.dist = 0, v && v != "px" && console.warn("only px threshold allowed in @touch.moved");
    }
    if (r.active)
      return true;
    if (r.cancelled)
      return false;
    let l = r.threshold, h = this.x - r.x0, u = this.y - r.y0;
    r.x = Math.max(r.x, Math.abs(h)), r.y = Math.max(r.y, Math.abs(u)), r.left = Math.max(r.left, -h), r.right = Math.max(r.right, h), r.up = Math.max(r.up, -u), r.down = Math.max(r.down, u), r.dist = Math.max(r.dist, Math.sqrt(h * h + u * u));
    let c = r[r.dir];
    if (c > l && c >= r.x && c >= r.y) {
      r.active = true;
      let a = n.pinTarget;
      return s.flags.incr("_move_"), a && a.flags.incr("_move_"), this.preventDefault(), D(this, "end", function() {
        return a && a.flags.decr("_move_"), s.flags.decr("_move_");
      }), true;
    } else if (r.x > l || r.y > l)
      return r.cancelled = true, false;
    return false;
  }
  \u03B1hold(t = 250) {
    var e = this;
    let r = this[Q], s = this[dt].element;
    if (r.cancelled)
      return false;
    if (r.setup && !r.active) {
      let n = this.clientX, o = this.clientY, l = n - r.x, h = o - r.y;
      Math.sqrt(l * l + h * h) > 5 && !r.cancelled && (clearTimeout(r.timeout), r.cancelled = true);
    }
    if (r.setup != true && (r.setup = true, true)) {
      r.active = false, r.x = this.clientX, r.y = this.clientY;
      let n;
      return r.timeout = setTimeout(function() {
        return r.active = true, e.preventDefault(), s.flags.incr("_hold_"), n && n(true), n = null;
      }, t), D(e, "end", function() {
        return r.active && s.flags.decr("_hold_"), clearTimeout(r.timeout), n && n(false), n = null;
      }), new Promise(function(o) {
        return n = o;
      });
    }
    return r.active;
  }
  \u03B1sync(t, e = "x", r = "y") {
    let s = this[Q];
    return s.setup != true && (s.setup = true, true) ? (s.x = t[e] || 0, s.y = t[r] || 0, s.tx = this.x, s.ty = this.y) : (e && (t[e] = s.x + (this.x - s.tx)), r && (t[r] = s.y + (this.y - s.ty))), this[dt].commit = true, true;
  }
  \u03B1apply(t, e = "x", r = "y") {
    return e && (t[e] = this.x), r && (t[r] = this.y), this[dt].commit = true, true;
  }
  \u03B1css(t = "x", e = "y") {
    let r = this[Q];
    if (r.setup != true && (r.setup = true, true))
      r.el = this[dt].element, r.x = r.el[To] || 0, r.y = r.el[Eo] || 0, r.tx = this.x, r.ty = this.y;
    else {
      let s = r.el[To] = r.x + (this.x - r.tx), n = r.el[Eo] = r.y + (this.y - r.ty);
      t && r.el.style.setProperty("--x", s + "px"), e && r.el.style.setProperty("--y", n + "px");
    }
    return true;
  }
  \u03B1end() {
    return this.phase == "ended";
  }
  \u03B1shift() {
    return !!this.shiftKey;
  }
  \u03B1alt() {
    return !!this.altKey;
  }
  \u03B1ctrl() {
    return !!this.ctrlKey;
  }
  \u03B1meta() {
    return !!this.metaKey;
  }
  \u03B1primary() {
    return !!this.isPrimary;
  }
  \u03B1mouse() {
    return this.pointerType == "mouse";
  }
  \u03B1pen() {
    return this.pointerType == "pen";
  }
  \u03B1touch() {
    return this.pointerType == "touch";
  }
  \u03B1pressure(t = 0.5) {
    return this.pressure >= t;
  }
  \u03B1log(...t) {
    return console.info(...t), true;
  }
  \u03B1left() {
    return this.originalEvent.button == 0;
  }
  \u03B1middle() {
    return this.originalEvent.button == 1;
  }
  \u03B1right() {
    return this.originalEvent.button == 2;
  }
  \u03B1round(t = 1, e = t) {
    return this.x = rr(this.x, t), this.y = rr(this.y, e), true;
  }
  [Ni](...t) {
    let e = this[Q];
    if (e.setup != true && (e.setup = true, true)) {
      let r = this.target, s = t.length, n = t[0], o = 0, l = "100%", h = 0, u = typeof n;
      u == "number" || u == "string" && /^([-+]?\d[\d\.]*)(%|\w+)$/.test(n) || n instanceof Array ? n = null : u == "string" && (n == "this" || n == "" ? n = r : n == "up" ? n = r.parentNode : n == "op" ? n = r.offsetParent : n = r.closest(n) || r.querySelector(n)), n == null && (s++, t.unshift(n = r)), s == 2 ? h = t[1] : s > 2 && ([o, l, h = 0] = t.slice(1));
      let c = n.getBoundingClientRect();
      o instanceof Array || (o = [o, o]), l instanceof Array || (l = [l, l]), h instanceof Array || (h = [h, h]), e.rect = c, e.x = wi(c.left, c.right, o[0], l[0], h[0]), e.y = wi(c.top, c.bottom, o[1], l[1], h[1]), this.x0 = this.x = e.x(this.x, e.clamp), this.y0 = this.y = e.y(this.y, e.clamp);
    } else {
      let r = this.x = e.x(this.x, e.clamp), s = this.y = e.y(this.y, e.clamp);
      this[Ci] = r - this.x0, this[Oi] = s - this.y0;
    }
    return true;
  }
  \u03B1fit(...t) {
    return this[Q].clamp = true, this[Ni](...t);
  }
  \u03B1reframe(...t) {
    return this[Ni](...t);
  }
  \u03B1pin(...t) {
    let e = this[Q];
    if (e.setup != true && (e.setup = true, true)) {
      let r = It(t[0], this.target);
      r instanceof b || t.unshift(r = this.target);
      let s = t[1] || 0, n = t[2] == null ? t[2] = s : t[2], o = r.getBoundingClientRect();
      e.x = this.clientX - (o.left + o.width * s), e.y = this.clientY - (o.top + o.height * n), r && (this[Tu] = r, r.flags.incr("_touch_"), D(this, "end", function() {
        return r.flags.decr("_touch_");
      }));
    }
    return this.x -= e.x, this.y -= e.y, true;
  }
};
var ki = class {
  on$touch(t, e, r, s) {
    return r.type = "touch", this.addEventListener("pointerdown", r, { passive: false }), er.ios\u03A6 && globalThis.parent != globalThis && No != true && (No = true, true) && globalThis.parent.postMessage("setupTouchFix"), r;
  }
};
xu(b.prototype, ki.prototype);
if (globalThis.parent == globalThis && er.ios\u03A6) {
  let i = function(t) {
    if (t.data == "setupTouchFix")
      return globalThis.addEventListener("touchmove", function() {
        return false;
      }, { passive: false }), globalThis.removeEventListener("message", i);
  };
  globalThis.addEventListener("message", i);
}
W.touch$handle = function() {
  let i = this.event, t = this.element, e = this.state.pointerId, r = this.modifiers, s = this.handler, n = er.ios\u03A6;
  if (this.current = this.state, e != null)
    return e == i.pointerId;
  if (r.ctrl && !i.ctrlKey || r.alt && !i.altKey || r.meta && !i.metaKey || r.shift && !i.shiftKey || r.if && !r.if[0] || r.self && i.target != t || r.primary && !i.isPrimary || r.pen && i.pointerType != "pen" || r.mouse && i.pointerType != "mouse" || r.touch && i.pointerType != "touch" || r.sel && !i.target.matches(String(r.sel[0])))
    return;
  let o = this.state = s.state = this.current = new Pi(i, s, t);
  e = o.pointerId;
  let l = function(f) {
    return f.preventDefault(), false;
  }, h = null, u = Symbol(), c = function(f) {
    let d = o.clientX, m = o.clientY, g = f.clientX, _ = f.clientY;
    (o[ir] || o.defaultPrevented) && (f.pointerId == o.pointerId || d == g && m == _) && (f.preventDefault(), f.stopPropagation()), c && (globalThis.removeEventListener("click", c, { capture: true }), c = null);
  }, a = function(f) {
    if (!(o.type == "touchmove" && f.changedTouches[0].identifier != e) && (o.defaultPrevented || o[ir]))
      return f.preventDefault();
  }, p = function(f) {
    let d = f.type, m = o.phase;
    if (f.pointerId && o.pointerId != f.pointerId || f[u])
      return;
    f[u] = true;
    let g = d == "pointerup" || d == "pointercancel";
    if (f.pressure == 0 && f.pointerType == "mouse" && d == "pointermove" && o.originalEvent.pressure > 0)
      return h(f);
    d == "pointercancel" ? (o.x = o.clientX, o.y = o.clientY) : (o.x = f.clientX, o.y = f.clientY), o.event = f, g && (o.phase = "ended");
    try {
      s.handleEvent(o);
    } catch {
    }
    if (m == "init" && !g && (o.phase = "active"), g && h)
      return h(f);
  }, v = false;
  return h = function(f) {
    if (!v && (v = true, t.flags.decr("_touch_"), o.phase != "ended" && (o.phase = "ended", o.x = o.clientX, o.y = o.clientY, s.handleEvent(o)), o.emit("end"), r.passive || --s.prevents == 0 && t.style.removeProperty("touch-action"), s.state = {}, globalThis.removeEventListener("pointermove", p, { passive: !!r.passive }), globalThis.removeEventListener("pointerup", p), globalThis.removeEventListener("pointercancel", p), setTimeout(function() {
      if (c && (globalThis.removeEventListener("click", c, { capture: true }), c = null), n && a)
        return globalThis.removeEventListener("touchend", a), globalThis.removeEventListener("touchmove", a, { passive: false }), a = null;
    }, 100), !r.passive))
      return globalThis.document.removeEventListener("selectstart", l, { capture: true });
  }, o[Co] = h, r.passive || (s.prevents || (s.prevents = 0), s.prevents++, t.style.setProperty("touch-action", "none"), t.offsetWidth), t.flags.incr("_touch_"), globalThis.addEventListener("pointermove", p, { passive: !!r.passive }), globalThis.addEventListener("pointerup", p), globalThis.addEventListener("pointercancel", p), globalThis.addEventListener("click", c, { capture: true }), n && !r.passive && (globalThis.addEventListener("touchend", a), globalThis.addEventListener("touchmove", a, { passive: false })), r.passive || globalThis.document.addEventListener("selectstart", l, { capture: true }), p(i), false;
};
function ko(i) {
  let t;
  return i ? (t = i.toIterable) ? t.call(i) : i : [];
}
function Eu(i, t) {
  let e = Object.getOwnPropertyDescriptors(t);
  return delete e.constructor, Object.defineProperties(i, e), i;
}
var Nu = Symbol.for("#context");
var Cu = Symbol.for("#extendType");
function bc() {
  return true;
}
var Oo = new (globalThis.WeakMap || Map)();
var Li = { threshold: [0] };
var Ou = {};
W.intersect$handle = function() {
  let i = this.event.detail.observer;
  return this.modifiers._observer == i;
};
var Ii = class extends P {
  \u03B1in() {
    return this.delta >= 0 && this.entry.isIntersecting;
  }
  \u03B1out() {
    return this.delta < 0;
  }
  \u03B1css(t = "ratio") {
    return this.target.style.setProperty("--ratio", this.ratio), true;
  }
  \u03B1flag(t, e) {
    let { state: r, step: s } = this[Nu], n = It(e || "", this.target);
    return this.isIntersecting && !r[s] ? (n.flags.incr(t), r[s] = true) : r[s] && !this.isIntersecting && (n.flags.decr(t), r[s] = false), true;
  }
};
function Pu(i, t) {
  return function(e, r) {
    let s = r.prevRatios || (r.prevRatios = /* @__PURE__ */ new WeakMap());
    for (let n = 0, o = ko(e), l = o.length; n < l; n++) {
      let h = o[n], u = s.get(h.target) || 0, c = h.intersectionRatio, a = { entry: h, ratio: c, from: u, delta: c - u, observer: r }, p = new P(i, { bubbles: false, detail: a });
      p[Cu](Ii), p.entry = h, p.isIntersecting = h.isIntersecting, p.delta = a.delta, p.ratio = a.ratio, s.set(h.target, c), h.target.dispatchEvent(p);
    }
  };
}
function Po(i = Li) {
  let t = i.threshold.join("-") + i.rootMargin;
  !i.root && Li.root && (i.root || (i.root = Li.root));
  let e = i.root || Ou, r = Oo.get(e);
  return r || Oo.set(e, r = {}), r[t] || (r[t] = new IntersectionObserver(Pu("intersect", t), i));
}
var Fi = class {
  on$intersect(t, e, r, s) {
    let n;
    if (t.options) {
      let o = [], l = { threshold: o };
      for (let h = 0, u = ko(t.options), c = u.length; h < c; h++) {
        let a = u[h];
        a instanceof b || a instanceof Ht ? l.root = a : typeof a == "number" ? o.push(a) : typeof a == "string" ? l.rootMargin = a : typeof a == "object" && Object.assign(l, a);
      }
      if (o.length == 1) {
        let h = o[0];
        if (h > 1)
          for (o[0] = 0; o.length < h; )
            o.push(o.length / (h - 1));
      }
      o.length == 0 && o.push(0), n = Po(l);
    } else
      n = Po();
    return t._observer = n, n.observe(this), this.addEventListener("intersect", r, s), r;
  }
};
Eu(b.prototype, Fi.prototype);
function ku(i) {
  let t;
  return i ? (t = i.toIterable) ? t.call(i) : i : [];
}
function Lu(i, t) {
  let e = Object.getOwnPropertyDescriptors(t);
  return delete e.constructor, Object.defineProperties(i, e), i;
}
var Mi = Symbol.for("#width");
var Di = Symbol.for("#height");
var Iu = Symbol.for("#extendType");
function wc() {
  return true;
}
var sr = null;
var Ai = class extends P {
  \u03B1css(t = "1elw", e = "1elh", r = "") {
    let s = this.target;
    if (s.offsetParent) {
      let n = ct(t), o = ct(e), l = It(r, s), h = n ? "--u_" + n[1] : "--" + t, u = o ? "--u_" + o[1] : "--" + e, c = n ? this.width / n[0] : this.width, a = o ? this.height / o[0] : this.height;
      l.style.setProperty(h, c), l.style.setProperty(u, a);
    }
    return true;
  }
  get width() {
    return this[Mi] == null ? this[Mi] = this.entry.target.offsetWidth : this[Mi];
  }
  get height() {
    return this[Di] == null ? this[Di] = this.entry.target.offsetHeight : this[Di];
  }
};
function Fu() {
  return globalThis.ResizeObserver || sr || (console.warn(":resize not supported in this browser"), sr = { observe: function() {
    return true;
  } }), sr || (sr = new ResizeObserver(function(i) {
    for (let t = 0, e = ku(i), r = e.length; t < r; t++) {
      let s = e[t], n = new P("resize", { bubbles: false, detail: s });
      n.entry = s, n.rect = s.contentRect, n[Iu](Ai), s.target.dispatchEvent(n);
      let o = new P("resized", { bubbles: true, detail: s });
      s.target.dispatchEvent(o);
    }
  }));
}
var Ri = class {
  on$resize(t, e, r, s) {
    return Fu().observe(this), this.addEventListener("resize", r, s), r;
  }
};
Lu(b.prototype, Ri.prototype);
function Mu(i, t) {
  let e = Object.getOwnPropertyDescriptors(t);
  return delete e.constructor, Object.defineProperties(i, e), i;
}
function Cc() {
  return true;
}
var $i;
var Lo = Symbol();
function Du() {
  if (!$i)
    return $i = function(i) {
      if (i[Lo])
        return;
      i[Lo] = true;
      let t = globalThis.document.activeElement;
      if (t && t.matches("input,textarea")) {
        let e = new P("selection", { detail: { start: t.selectionStart, end: t.selectionEnd } });
        return t.dispatchEvent(e);
      }
    }, globalThis.document.addEventListener("selectionchange", $i);
}
var ji = class {
  on$selection(t, e, r, s) {
    return Du(), this.addEventListener("selection", r, s), r;
  }
};
Mu(b.prototype, ji.prototype);
var Io = Symbol.for("#string");
var Fo = Symbol.for("#html");
var J = { win: { sep: "+", name: "win", order: ["meta", "ctrl", "mod", "alt", "option", "shift"].reverse(), labels: { option: "alt", mod: "ctrl", meta: "win" } }, mac: { sep: "", name: "mac", order: ["ctrl", "alt", "option", "shift", "mod", "command"].reverse(), labels: { left: "\u2192", up: "\u2191", down: "\u2193", right: "\u2190", plus: "+", tab: "\u21E5", meta: "\u2318", mod: "\u2318", ctrl: "\u2303", option: "\u2325", alt: "\u2325", del: "\u2326", shift: "\u21E7", enter: "\u21A9", esc: "\u238B", backspace: "\u232B" } } };
J.auto = J.win;
(globalThis.navigator.platform || "").match(/iPhone|iPod|iPad|Mac/) && (J.auto = J.mac);
var qi = {};
function Mo(i, t = "auto") {
  let e = "" + i + ":" + t;
  if (qi[e])
    return qi[e];
  let r = J[t] || J.win, s = i.split(" ").map(function(n) {
    return n.split("+").sort(function(u, c) {
      return r.order.indexOf(c) - r.order.indexOf(u);
    }).map(function(u) {
      let c = r.labels[u] || u;
      return c = c[0].toUpperCase() + (c.slice(1) || "");
    });
  });
  return qi[e] = s;
}
function Do(i, t) {
  var e;
  let r = Mo(i, t), s = J[t] || J.win;
  return r[Io] || (r[Io] = r.map(function(n) {
    return n.join(s.sep);
  }).join(" "));
}
function Ao(i, t) {
  var e;
  let r = Mo(i, t), s = J[t] || J.win;
  return r[Fo] || (r[Fo] = r.map(function(n) {
    return "<kbd>" + n.map(function(o) {
      return "<kbd>" + o + "</kbd>";
    }).join("") + "</kbd>";
  }).join(" "));
}
var pt = { 8: "backspace", 9: "tab", 13: "enter", 16: "shift", 17: "ctrl", 18: "alt", 20: "capslock", 27: "esc", 32: "space", 33: "pageup", 34: "pagedown", 35: "end", 36: "home", 37: "left", 38: "up", 39: "right", 40: "down", 45: "ins", 46: "del", 91: "meta", 93: "meta", 224: "meta" };
var Ro = { 106: "*", 107: "+", 109: "-", 110: ".", 111: "/", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\", 221: "]", 222: "'" };
var $o = { "~": "`", "!": "1", "@": "2", "#": "3", $: "4", "%": "5", "^": "6", "&": "7", "*": "8", "(": "9", ")": "0", _: "-", "+": "=", ":": ";", '"': "'", "<": ",", ">": ".", "?": "/", "|": "\\" };
var jo = { option: "alt", command: "meta", return: "enter", escape: "esc", plus: "+", mod: /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? "meta" : "ctrl" };
var ee;
for (Z = 1; Z < 20; ++Z)
  pt[111 + Z] = "f" + Z;
var Z;
for (Z = 0; Z <= 9; ++Z)
  pt[Z + 96] = Z.toString();
function zi(i, t, e) {
  if (i.addEventListener) {
    i.addEventListener(t, e, false);
    return;
  }
  i.attachEvent("on" + t, e);
}
function Vi(i, t, e) {
  if (i.removeEventListener) {
    i.removeEventListener(t, e, false);
    return;
  }
  i.detachEvent("on" + t, e);
}
function qo(i) {
  if (i.type == "keypress") {
    var t = String.fromCharCode(i.which);
    return i.shiftKey || (t = t.toLowerCase()), t;
  }
  return pt[i.which] ? pt[i.which] : Ro[i.which] ? Ro[i.which] : String.fromCharCode(i.which).toLowerCase();
}
function Au(i, t) {
  return i.sort().join(",") === t.sort().join(",");
}
function Ru(i) {
  var t = [];
  return i.shiftKey && t.push("shift"), i.altKey && t.push("alt"), i.ctrlKey && t.push("ctrl"), i.metaKey && t.push("meta"), t;
}
function $u(i) {
  if (i.preventDefault) {
    i.preventDefault();
    return;
  }
  i.returnValue = false;
}
function ju(i) {
  if (i.stopPropagation) {
    i.stopPropagation();
    return;
  }
  i.cancelBubble = true;
}
function Ki(i) {
  return i == "shift" || i == "ctrl" || i == "alt" || i == "meta";
}
function qu() {
  if (!ee) {
    ee = {};
    for (var i in pt)
      i > 95 && i < 112 || pt.hasOwnProperty(i) && (ee[pt[i]] = i);
  }
  return ee;
}
function zu(i, t, e) {
  return e || (e = qu()[i] ? "keydown" : "keypress"), e == "keypress" && t.length && (e = "keydown"), e;
}
function Vu(i) {
  return i === "+" ? ["+"] : (i = i.replace(/\+{2}/g, "+plus"), i.split("+"));
}
function zo(i, t) {
  var e, r, s, n = [];
  for (e = Vu(i), s = 0; s < e.length; ++s)
    r = e[s], jo[r] && (r = jo[r]), t && t != "keypress" && $o[r] && (r = $o[r], n.push("shift")), Ki(r) && n.push(r);
  return t = zu(r, n, t), { key: r, modifiers: n, action: t };
}
function Vo(i, t) {
  return i === null || i === document ? false : i === t ? true : Vo(i.parentNode, t);
}
function I(i) {
  var t = this;
  if (i = i || document, !(t instanceof I))
    return new I(i);
  t.target = i, t._callbacks = {}, t._directMap = {};
  var e = {}, r, s = false, n = false, o = false;
  function l(f) {
    f = f || {};
    var d = false, m;
    for (m in e) {
      if (f[m]) {
        d = true;
        continue;
      }
      e[m] = 0;
    }
    d || (o = false);
  }
  function h(f, d, m, g, _, E) {
    var y, S, O = [], M = m.type;
    if (!t._callbacks[f])
      return [];
    for (M == "keyup" && Ki(f) && (d = [f]), y = 0; y < t._callbacks[f].length; ++y)
      if (S = t._callbacks[f][y], !(!g && S.seq && e[S.seq] != S.level) && M == S.action && (M == "keypress" && !m.metaKey && !m.ctrlKey || Au(d, S.modifiers))) {
        var br = !g && S.combo == _, ve = g && S.seq == g && S.level == E;
        (br || ve) && t._callbacks[f].splice(y, 1), O.push(S);
      }
    return O;
  }
  function u(f, d, m, g) {
    t.stopCallback(d, d.target || d.srcElement, m, g) || f(d, m) === false && ($u(d), ju(d));
  }
  t._handleKey = function(f, d, m) {
    var g = h(f, d, m), _, E = {}, y = 0, S = false;
    for (_ = 0; _ < g.length; ++_)
      g[_].seq && (y = Math.max(y, g[_].level));
    for (_ = 0; _ < g.length; ++_) {
      if (g[_].seq) {
        if (g[_].level != y)
          continue;
        S = true, E[g[_].seq] = 1, u(g[_].callback, m, g[_].combo, g[_].seq);
        continue;
      }
      S || u(g[_].callback, m, g[_].combo);
    }
    var O = m.type == "keypress" && n;
    m.type == o && !Ki(f) && !O && l(E), n = S && m.type == "keydown";
  };
  function c(f) {
    typeof f.which != "number" && (f.which = f.keyCode);
    var d = qo(f);
    if (!!d) {
      if (f.type == "keyup" && s === d) {
        s = false;
        return;
      }
      t.handleKey(d, Ru(f), f);
    }
  }
  function a() {
    clearTimeout(r), r = setTimeout(l, 1e3);
  }
  function p(f, d, m, g) {
    e[f] = 0;
    function _(M) {
      return function() {
        o = M, ++e[f], a();
      };
    }
    function E(M) {
      u(m, M, f), g !== "keyup" && (s = qo(M)), setTimeout(l, 10);
    }
    for (var y = 0; y < d.length; ++y) {
      var S = y + 1 === d.length, O = S ? E : _(g || zo(d[y + 1]).action);
      v(d[y], O, g, f, y);
    }
  }
  function v(f, d, m, g, _) {
    t._directMap[f + ":" + m] = d, f = f.replace(/\s+/g, " ");
    var E = f.split(" "), y;
    if (E.length > 1) {
      p(f, E, d, m);
      return;
    }
    y = zo(f, m), t._callbacks[y.key] = t._callbacks[y.key] || [], h(y.key, y.modifiers, { type: y.action }, g, f, _), t._callbacks[y.key][g ? "unshift" : "push"]({ callback: d, modifiers: y.modifiers, action: y.action, seq: g, level: _, combo: f });
  }
  t._bindMultiple = function(f, d, m) {
    for (var g = 0; g < f.length; ++g)
      v(f[g], d, m);
  }, t.enable = function() {
    zi(i, "keypress", c), zi(i, "keydown", c), zi(i, "keyup", c);
  }, t.disable = function() {
    Vi(i, "keypress", c), Vi(i, "keydown", c), Vi(i, "keyup", c);
  }, t.enable();
}
I.prototype.bind = function(i, t, e) {
  var r = this;
  return i = i instanceof Array ? i : [i], r._bindMultiple.call(r, i, t, e), r;
};
I.prototype.unbind = function(i, t) {
  var e = this;
  return e.bind.call(e, i, function() {
  }, t);
};
I.prototype.trigger = function(i, t) {
  var e = this;
  return e._directMap[i + ":" + t] && e._directMap[i + ":" + t]({}, i), e;
};
I.prototype.reset = function() {
  var i = this;
  return i._callbacks = {}, i._directMap = {}, i;
};
I.prototype.stopCallback = function(i, t) {
  var e = this;
  return (" " + t.className + " ").indexOf(" mousetrap ") > -1 || Vo(t, e.target) ? false : t.tagName == "INPUT" || t.tagName == "SELECT" || t.tagName == "TEXTAREA" || t.isContentEditable;
};
I.prototype.handleKey = function() {
  var i = this;
  return i._handleKey.apply(i, arguments);
};
I.addKeycodes = function(i) {
  for (var t in i)
    i.hasOwnProperty(t) && (pt[t] = i[t]);
  ee = null;
};
I.init = function() {
  var i = I(document);
  for (var t in i)
    t.charAt(0) !== "_" && (I[t] = function(e) {
      return function() {
        return i[e].apply(i, arguments);
      };
    }(t));
};
function ie(i) {
  let t;
  return i ? (t = i.toIterable) ? t.call(i) : i : [];
}
function Ku(i, t) {
  let e = Object.getOwnPropertyDescriptors(t);
  return delete e.constructor, Object.defineProperties(i, e), i;
}
var Ui = Symbol.for("#updateHotKeys");
var Uu = Symbol.for("#inInput");
var Bi = Symbol.for("#inEditable");
var Bu = Symbol.for("#hotkeyTarget");
var Uo = Symbol.for("#hotkeyCombos");
var Hu = Symbol.for("#extendType");
var se = Symbol.for("#combos");
var Bo = Symbol.for("#target");
var re = Symbol.for("#hotkeyHandlers");
var Yu = Symbol.for("#defaultPrevented");
var Wu = Symbol.for("#visit");
var Ko = Symbol.for("#key");
var Gu;
try {
  Gu = (globalThis.navigator.platform || "").match(/iPhone|iPod|iPad|Mac/);
} catch {
}
function Fc() {
  return true;
}
var Hi = { esc: true };
var Yi = class extends P {
  \u03B1focus(t) {
    let e = this.target, r = e.ownerDocument;
    return t && (e = e.querySelector(t) || e.closest(t) || r.querySelector(t)), e == r.body ? r.activeElement != r.body && r.activeElement.blur() : e.focus(), true;
  }
  \u03B1repeat() {
    return true;
  }
};
var Xu = function(i, t, e) {
  return t.tagName == "INPUT" && (e == "down" || e == "up") ? false : t.tagName == "INPUT" || t.tagName == "SELECT" || t.tagName == "TEXTAREA" ? Hi[e] ? (i[Uu] = true, i[Bi] = true, false) : true : t.contentEditable && (t.contentEditable == "true" || t.contentEditable == "plaintext-only") ? Hi[e] ? (i[Bi] = true, false) : true : false;
};
var Qu = new class {
  constructor() {
    this.combos = { "*": {} }, this.identifiers = {}, this.labels = {}, this.handler = this.handle.bind(this), this.mousetrap = null, this.hothandler = this.handle.bind(this);
  }
  addKeycodes(t) {
    return I.addKeycodes(t);
  }
  trigger(t) {
    var e, r;
    return (r = (e = this.mousetrap) == null ? void 0 : e.trigger) == null ? void 0 : r.call(e, t);
  }
  register(t, e = {}) {
    return this.mousetrap || (this.mousetrap = I(globalThis.document), this.mousetrap.stopCallback = Xu), this.combos[t] || (this.combos[t] = true, this.mousetrap.bind(t, this.handler)), (e.capture || e.force) && (Hi[t] = true), this;
  }
  comboIdentifier(t) {
    var e;
    return (e = this.identifiers)[t] || (e[t] = t.replace(/\+/g, "_").replace(/\ /g, "-").replace(/\*/g, "all").replace(/\|/g, " "));
  }
  humanize(t, e = "auto") {
    return Do(t, e);
  }
  htmlify(t, e = "auto") {
    return Ao(t, e);
  }
  matchCombo(t) {
    return true;
  }
  handle(t, e) {
    var c;
    let r = t.target && t.target[Bu] || t.target || globalThis.document.body, s = Array.from(globalThis.document.querySelectorAll("[data-hotkey]")), n = r.ownerDocument, o = r;
    for (; o && o != n && o.hotkeys !== true; )
      o = o.parentNode;
    if (s = s.reverse().filter(function(a) {
      let p = a[Uo];
      if (!(p && (p[e] || p["*"])))
        return false;
      let v = a;
      for (; v && v != n; ) {
        if (v.hotkeys === false)
          return false;
        v = v.parentNode;
      }
      return true;
    }), !s.length)
      return;
    let l = { combo: e, originalEvent: t, targets: s }, h = new P("hotkey", { bubbles: true, detail: l });
    h[Hu](Yi), h.originalEvent = t, h.hotkey = e, r.dispatchEvent(h);
    let u = [];
    for (let a = 0, p = ie(s), v = p.length; a < v; a++) {
      let f = p[a];
      for (let d = 0, m = ie(f[re]), g = m.length; d < g; d++) {
        let _ = m[d];
        if ((_[se][e] || _[se]["*"]) && (!t[Bi] || _.capture\u03A6 || _.params.force)) {
          let E = _[Bo];
          (o.contains(E) || E.contains(o) || _.global\u03A6) && u.push(_);
        }
      }
    }
    for (let a = 0, p = ie(u), v = p.length; a < v; a++) {
      let f = p[a];
      if ((!t.repeat || f.params.repeat) && f.handleEvent(h), (!f.passive\u03A6 || h[Yu]) && ((c = t == null ? void 0 : t.preventDefault) == null || c.call(t)), !f.passive\u03A6)
        break;
    }
    return this;
  }
}();
var Ho = function(i, t) {
  let e = t.element;
  e instanceof b && (e.matches("input,textarea,select,option") ? e.focus() : e.click());
};
Ho.passive = true;
var Wi = class {
  on$hotkey(t, e, r, s) {
    var n = this;
    return this[re] || (this[re] = []), this[re].push(r), r[Bo] = this, t.$_ || (t.$_ = [Ho]), t[Wu] = function() {
      return n[Ui]();
    }, this[Ui](), r;
  }
  [Ui]() {
    let t = {};
    for (let e = 0, r = ie(this[re]), s = r.length; e < s; e++) {
      let n = r[e], o = n.params, l = o.options[0];
      if (n[Ko] != l && (n[Ko] = l, true)) {
        n[se] = {};
        for (let h = 0, u = ie(l.split("|")), c = u.length; h < c; h++) {
          let a = u[h];
          Qu.register(a, o), n[se][a] = true;
        }
      }
      Object.assign(t, n[se]);
    }
    return this[Uo] = t, this.dataset.hotkey = Object.keys(t).join(" "), this;
  }
};
Ku(b.prototype, Wi.prototype);
var Cl = Hl(rl());
var Xi = Symbol.for("#getQueryParam");
var il = Symbol.for("#setQueryParam");
var sl = Symbol.for("#query");
var U = class {
  static parse(t, e) {
    return t instanceof U ? t : new U(t, e);
  }
  constructor(t, e) {
    this.router = e, this.parse(t);
  }
  parse(t) {
    var r;
    let e;
    return t instanceof URL || (t = new URL(t, this.router.origin)), (e = (r = this.router) == null ? void 0 : r.aliases[t.pathname]) && (t.pathname = e), this.url = t, this;
  }
  get active\u03A6() {
    return this.router.location == this;
  }
  reparse() {
    return this.parse(this.url);
  }
  get searchParams() {
    return this.url.searchParams;
  }
  search() {
    let t = this.searchParams ? this.searchParams.toString() : "";
    return t ? "?" + t : "";
  }
  update(t) {
    if (t instanceof Object)
      for (let e = 0, r = Object.keys(t), s = r.length, n, o; e < s; e++)
        n = r[e], o = t[n], this.searchParams.set(n, o);
    else
      typeof t == "string" && this.parse(t);
    return this;
  }
  clone() {
    return new U(this.url.href, this.router);
  }
  equals(t) {
    return this.toString() == String(t);
  }
  get href() {
    return this.url.href;
  }
  get path() {
    return this.url.href.slice(this.url.origin.length);
  }
  get pathname() {
    return this.url.pathname;
  }
  get query() {
    return this[sl] || (this[sl] = new Proxy({}, { get: this[Xi].bind(this), set: this[il].bind(this) }));
  }
  toString() {
    return this.href;
  }
  [Xi](t, e) {
    return this.searchParams.get(e);
  }
  [il](t, e, r) {
    return this[Xi](t, e) != r && (r == null || r == "" ? this.searchParams.delete(e) : this.searchParams.set(e, r), this.active\u03A6 && (this.router.history.replaceState({}, null, this.url.toString()), this.router.touch())), true;
  }
};
var Qi = function() {
  return true;
};
var mt = class {
  constructor(t, e = "") {
    this.store = t || {}, this.cache = { raw: {}, rich: {} }, this.ns = e, this.local = t == globalThis.sessionStorage, this.children = /* @__PURE__ */ new Map();
  }
  serialize(t, e) {
    return JSON.stringify(t);
  }
  deserialize(t, e) {
    return JSON.parse(t);
  }
  getItem(t) {
    let e = String(this.ns) + ":" + t;
    if (this.store instanceof mt)
      return this.store.getItem(e);
    if (this.local && this.cache.rich[e] != null)
      return this.cache.rich[e];
    let r = this.store.getItem(e);
    if (r != null)
      return this.cache.raw[e] == r ? this.cache.rich[e] : (this.cache.raw[e] = r, this.cache.rich[e] = this.deserialize(r, e));
  }
  setItem(t, e) {
    var r, s;
    let n = String(this.ns) + ":" + t;
    if (this.store instanceof mt)
      return this.store.setItem(n, e);
    let o = this.cache.rich[n], l = typeof e;
    if (this.local && (this.cache.rich[n] = e), o !== e || l == "object") {
      let h = this.store.getItem(n);
      if (e == null)
        return this.store.removeItem(n), r = this.cache.rich[n], delete this.cache.rich[n], s = this.cache.raw[n], delete this.cache.raw[n], C();
      {
        let u = this.serialize(e, n);
        if (this.cache.rich[n] = e, this.cache.raw[n] = u, h != u)
          return this.store.setItem(n, u), C();
      }
    }
  }
  get(t, e, r) {
    return this.getItem(e);
  }
  set(t, e, r, s) {
    return this.setItem(e, r), true;
  }
  apply(t, e, [r]) {
    let s = this.children.get(r);
    return s || this.children.set(r, s = new Proxy(Qi, new mt(this, r))), s;
  }
  deleteProperty(t, e) {
    var r;
    let s = this.ns + e;
    return r = this.cache[s], delete this.cache[s], this.store.removeItem(s);
  }
};
var zc = new Proxy(Qi, new mt(globalThis.localStorage));
var nl = new Proxy(Qi, new mt(globalThis.sessionStorage));
var ne = Symbol.for("#states");
var ol = /* @__PURE__ */ new WeakMap();
var oe = class {
  static from(t, e) {
    return e ? new this(t, e) : null;
  }
  constructor(t, e, r = false) {
    ol.set(this, t), this.path = e.path, this.data = e.data || {}, this.index = e.index, this.type = e.type, this.local = r;
  }
  get history() {
    return ol.get(this);
  }
  get next() {
    return this.history.at(this.index + 1);
  }
  get prev() {
    return this.history.at(this.index - 1);
  }
  toJSON() {
    return { path: this.path, data: this.data, index: this.index, type: this.type };
  }
  save() {
    return this.history.cache[this.index] = this, this;
  }
  toString() {
    return "" + this.history.id + "|" + this.index;
  }
};
var lr = class {
  constructor(t) {
    this.router = t, this.store = nl("router"), this[ne] = [], this.cache = {}, this.index = -1;
    let e = globalThis.history.state, r;
    if (typeof e == "string") {
      let s = e.split("|");
      this.id = parseInt(s[0]), this.index = parseInt(s[1]), this.cache = this.store(this.id);
    } else
      this.id = this.store.id = (this.store.id || 0) + 1, this.cache = this.store(this.id);
    this.index == -1 && this.replaceState({ initial: true }, null, t.path);
  }
  get length() {
    return this.cache.length;
  }
  get state() {
    return this.at(this.index);
  }
  get states() {
    let t = this.length, e = 0;
    for (; e < t; )
      this.at(e++);
    return this[ne];
  }
  get currentStates() {
    return this.states.slice(0, this.length);
  }
  get next() {
    return this.state.next;
  }
  get prev() {
    return this.state.prev;
  }
  slice(t, e = this.length) {
    let r = [];
    for (; t < e; )
      r.push(this.at(t++));
    return r;
  }
  at(t) {
    var e;
    if (!(t >= this.length))
      return (e = this[ne])[t] || (e[t] = oe.from(this, this.cache[t]));
  }
  buildState(t, e, r = true) {
    let s = { data: t, index: this.index + 1, path: e || this.router.path, type: r ? "push" : "replace" };
    return new oe(this, s, true);
  }
  pushState(t, e, r, s = true) {
    return t instanceof oe || (t = this.buildState(t, r, s)), this.index = t.index, this.cache[this.index] = t, this[ne][this.index] = t, this[ne].length = this.cache.length = Math.max(t.index + 1, 0), globalThis.history[s ? "pushState" : "replaceState"](String(t), e || null, t.path), this;
  }
  replaceState(t, e, r) {
    return this.pushState(t, e, r, false);
  }
};
var le = class {
  constructor(t, e, r, s) {
    this.params = s, this.router = t, e && (this.location = U.parse(e), this.original = this.location.clone()), this.referrer = r;
  }
  get apply() {
    return this.params.apply || [];
  }
  get revert() {
    return this.params.revert || [];
  }
  get state() {
    return this.params.state;
  }
  get mode() {
    return this.params.mode;
  }
  redirect(t) {
    var e, r;
    return (r = (e = this.location) == null ? void 0 : e.update) == null || r.call(e, t), this;
  }
  get path() {
    var t;
    return (t = this.location) == null ? void 0 : t.path;
  }
  get url() {
    var t, e;
    return (e = (t = this.location) == null ? void 0 : t.toString) == null ? void 0 : e.call(t);
  }
  set path(t) {
    this.location.path = t;
  }
  abort(t = false) {
    return this.aborted = true, t && (this.forceAbort = t), this;
  }
  match(t) {
    return this.location ? this.router.route(t).match(this.path) : null;
  }
};
function ll(i) {
  let t;
  return i ? (t = i.toIterable) ? t.call(i) : i : [];
}
var hr = Symbol.for("#routes");
var Ji = Symbol.for("#match");
var ia = Symbol.for("#symbol");
var hl = Symbol.for("#matches");
var Zi = /* @__PURE__ */ new Map();
var ts = {};
var ul = {};
var sa = /.*/;
function na(i) {
  if (!Zi.has(i)) {
    let t = /* @__PURE__ */ new Map();
    return Zi.set(i, t), t;
  }
  return Zi.get(i);
}
function oa(i, t) {
  let e = na(i);
  if (!e.has(t)) {
    let r = Object.create(i);
    return Object.assign(r, t), e.set(t, r), r;
  }
  return e.get(t);
}
var es = class {
};
function la(i) {
  if (ts[i])
    return ts[i];
  let t = ts[i] = { url: i }, e = i.indexOf("?"), r = i.indexOf("#");
  if (r >= 0 && (t.hash = i.slice(r + 1), i = t.url = i.slice(0, r)), e >= 0) {
    let s = t.query = i.slice(e + 1);
    i = i.slice(0, e), t.query = ul[s] || (ul[s] = new URLSearchParams(s));
  }
  return t.path = i, t;
}
var ur = class {
  constructor(t) {
    this.router = t, this.fullPath = "", this[hr] = {}, this[Ji] = new es(), this[Ji].path = "";
  }
  route(t) {
    var e;
    return (e = this[hr])[t] || (e[t] = new he(this.router, t, this));
  }
  match() {
    return this[Ji];
  }
  resolve(t) {
    return "/";
  }
};
var he = class {
  constructor(t, e, r) {
    this.parent = r || t.rootRoute, this.router = t, this.status = 200, this.path = e, this[ia] = Symbol(), this[hl] = {}, this[hr] = {};
  }
  route(t) {
    var e;
    return (e = this[hr])[t] || (e[t] = new he(this.router, t, this));
  }
  get fullPath() {
    return "" + this.parent.fullPath + "/" + this.$path;
  }
  load(t) {
    return this.router.queue.add(t);
  }
  set path(t) {
    var e = this;
    if (this.$path == t)
      return;
    if (this.raw = t, this.$path = t, this.groups = [], this.cache = {}, this.dynamic = false, t.indexOf("?") >= 0) {
      let s = t.split("?");
      t = s.shift(), this.query = {};
      for (let n = 0, o = ll(s.join("?").split("&")), l = o.length; n < l; n++) {
        let h = o[n];
        if (!h)
          continue;
        let [u, c] = h.split("=");
        u[0] == "!" && (this.dynamic = true, u = u.slice(1), c = false), c === "" && (c = false), c && c[0] == ":" && (this.dynamic = true), this.query[u] = c || c !== false;
      }
    }
    if (t = t.replace(/\:(\w+|\*)(\.)?/g, function(s, n, o) {
      return e.dynamic = true, n != "*" && e.groups.push(n), o ? "([^/#.?]+)." : "([^/#?]+)";
    }), t == "" && e.query)
      return;
    if (t == "*")
      return e.regex = sa, e;
    t = "^" + t;
    let r = t[t.length - 1];
    (r == "$" || r == "/") && (t = t.slice(0, -1) + "(?=/?[#?]|/?$)"), r != "/" && r != "$" && t != "^/" && (t = t + "(?=[/#?]|$)"), e.regex = new RegExp(t);
  }
  match(t = this.router.path) {
    var h, u;
    var e, r;
    let s = this.parent.match(t);
    if (!s)
      return null;
    let n = la(t), o = n.url, l = "";
    if (s.path && n.path.indexOf(s.path) == 0 && (l = s.path + "/", o = o.slice(l.length)), e = this.regex ? o.match(this.regex) : [""]) {
      let c = l + e[0], a = [this.$path], p = {};
      if (this.groups.length)
        for (let d = 0, m = ll(e), g = m.length, _; d < g; d++) {
          let E = m[d];
          (_ = this.groups[d - 1]) && (p[_] = E, a.push(E));
        }
      if (this.query)
        for (let d = this.query, m = 0, g = Object.keys(d), _ = g.length, E, y; m < _; m++) {
          E = g[m], y = d[E];
          let S = E, O = (u = (h = n.query) == null ? void 0 : h.get) == null ? void 0 : u.call(h, E);
          if (y === false) {
            if (O)
              return null;
            a.push("1");
            continue;
          }
          if (y[0] == ":" && (S = y.slice(1), y = true), y == true && O || y == O)
            p[S] = O, a.push(O);
          else
            return null;
        }
      let v = a.join("*");
      p = (r = this[hl])[v] || (r[v] = p);
      let f = oa(s, p);
      return f.path = c, f;
    }
    return null;
  }
  resolve(t = this.router.path) {
    if (this.raw[0] == "/" && !this.dynamic)
      return this.raw.replace(/\$/g, "");
    let e = this.parent.match(t), r = this.parent.resolve(t), s;
    if (this.dynamic) {
      let n = this.match(t);
      return n ? n.path : null;
    }
    return this.raw[0] == "?" ? s = (r || "/") + this.raw : s = r + "/" + this.raw, s.replace(/\$/g, "").replace(/\/\/+/g, "/");
  }
};
var al = Symbol.for("#__initor__");
var fl = Symbol.for("#__inited__");
var dl = Symbol.for("#__init__");
var ar = Symbol.for("#idler");
var ue = Symbol.for("#resolve");
var cl = Symbol();
var ae = class extends Set {
  static [dl]() {
    return this.prototype[al] = cl, this;
  }
  constructor() {
    super(), this[ar] = Promise.resolve(this), this[al] === cl && this[fl] && this[fl]();
  }
  emit(t, ...e) {
    return $(this, t, e);
  }
  on(t, ...e) {
    return R(this, t, ...e);
  }
  once(t, ...e) {
    return D(this, t, ...e);
  }
  un(t, ...e) {
    return yt(this, t, ...e);
  }
  add(t) {
    var e = this;
    if (t instanceof Function && (t = t()), !this.has(t)) {
      t.then(function() {
        return e.delete(t);
      });
      let r = e.size == 0;
      super.add(t), r && (this[ar] = this[ue] = null, e.emit("busy", e));
    }
    return t;
  }
  delete(t) {
    return super.delete(t) ? (this.size == 0 && (this[ue] && (this[ue](this), this[ue] = null), this.emit("idle", this)), true) : false;
  }
  get idle() {
    var t = this;
    return this[ar] || (this[ar] = new Promise(function(e) {
      return t[ue] = e;
    }));
  }
};
ae[dl]();
function us(i, t) {
  let e = Object.getOwnPropertyDescriptors(t);
  return delete e.constructor, Object.defineProperties(i, e), i;
}
var pl = Symbol.for("#__initor__");
var ml = Symbol.for("#__inited__");
var Nl = Symbol.for("#__init__");
var is = Symbol.for("#enter");
var ss = Symbol.for("#resolved");
var cr = Symbol.for("#leave");
var gl = Symbol.for("#afterVisitRouted");
var yl = Symbol.for("#afterVisitRouteTo");
var _l = Symbol.for("#router");
var Mt = Symbol.for("#doc");
var nt = Symbol.for("#version");
var ha = Symbol.for("#routes");
var bl = Symbol.for("#origin");
var rs = Symbol.for("#request");
var fe = Symbol.for("#hash");
var B = Symbol.for("#routeTo");
var ce = Symbol.for("#path");
var tt = Symbol.for("#match");
var de = Symbol.for("#options");
var ua = Symbol.for("#cache");
var vl = Symbol.for("#unmatched");
var gt = Symbol.for("#active");
var aa = Symbol.for("#resolvedPath");
var fa = Symbol.for("#dataKey");
var ca = Symbol.for("#activeKey");
var pe = Symbol.for("#urlKey");
var Dt = Symbol.for("#dataMap");
var fr = Symbol.for("#href");
var A = Symbol.for("#route");
var Sl = Symbol.for("#context");
var xl = Symbol.for("#afterVisit");
var wl = Symbol.for("#routeHandler");
var da = Symbol.for("#parentNode");
var pa = Symbol.for("#visitContext");
var Tl = Symbol.for("##visitContext");
var ma = Symbol.for("#attachToParent");
var ga = Symbol.for("#detachFromParent");
var El = Symbol();
var ns = class {
  get router() {
    return this[_l] || (this[_l] = new dr(this));
  }
};
us(Ht.prototype, ns.prototype);
function sd() {
  return true;
}
var nd = Ms(function() {
  return globalThis.document.router;
});
var dr = class extends Cl.EventEmitter {
  static [Nl]() {
    return this.prototype[pl] = El, this;
  }
  constructor(t, e = {}) {
    super(), this[Mt] = t, this[nt] = 0, this[ha] = {}, this.aliases = {}, this.redirects = {}, this.rules = {}, this.options = e, this.busy = [], this.queue = new ae(), this.root = new ur(this), this.location = new U(e.url || t.location.href, this), this.history = new lr(this), this.mode = e.mode || "history", this.queue.on("busy", function() {
      return globalThis.document.flags.incr("_routing_");
    }), this.queue.on("idle", function() {
      return globalThis.document.flags.decr("_routing_"), C();
    }), this.setup(), this[pl] === El && this[ml] && this[ml]();
  }
  get origin() {
    return this[bl] || (this[bl] = this[Mt].location.origin);
  }
  get query() {
    return this.location.query;
  }
  init() {
    return this.refresh({ mode: "replace" }), this;
  }
  alias(t, e) {
    return this.aliases[t] = e, this.location.reparse(), this;
  }
  touch() {
    return this[nt]++;
  }
  option(t, e) {
    return e == null ? this.options[t] : (this.options[t] = e, this);
  }
  get realpath() {
    let t = this[Mt].location;
    return t.href.slice(t.origin.length);
  }
  get state() {
    return this.history.state;
  }
  get states() {
    return this.history.currentStates;
  }
  set state(t) {
    this.state.data = t, this.state.save();
  }
  get ctx() {
    return this[rs];
  }
  pushState(t, e, r) {
    return this.history.pushState(t, e || null, String(r));
  }
  replaceState(t, e, r) {
    return this.history.replaceState(t, e || null, String(r));
  }
  refresh(t = {}) {
    var e = this;
    if (this.refreshing)
      return;
    this.refreshing = true;
    let r = this.location, s = U.parse(t.location || this.realpath, this), n = t.mode, o = this[rs];
    if (!s.equals(r) || !o || t.state) {
      let l = new le(this, s, r, t);
      this[rs] = l, this.emit("beforechange", l), l.aborted && (!l.forceAbort && globalThis.window.confirm("Are you sure you want to leave? You might have unsaved changes") ? l.aborted = false : n == "pop" ? this.pushState(this.state, null, String(r)) : n == "replace" && this.replaceState(this.state, null, String(r))), l.aborted || (this.location = l.location, n == "push" ? this.pushState(l.state, null, String(this.location)) : n == "replace" ? this.replaceState(l.state, null, String(this.location)) : n == "pop" && (this.history.index = t.index), this.emit("change", l), this.touch(), C());
    }
    return k.add(function() {
      let l = e[Mt].location.hash;
      if (l != e[fe])
        return e.emit("hashchange", e[fe] = l);
    }), e.refreshing = false, e;
  }
  onpopstate(t) {
    let e = this.history.index, r = e, s = { pop: true, index: 0, from: e, mode: "pop" };
    try {
      if (typeof t.state == "string") {
        let [n, o] = t.state.split("|");
        r = s.index = parseInt(o), r < e ? s.revert = this.history.slice(r + 1, e + 1).reverse() : r > e && (s.apply = this.history.slice(e + 1, r + 1));
      }
    } catch {
    }
    return this.refresh(s), this;
  }
  onbeforeunload(t) {
    let e = new le(this, null, this.location, { mode: "unload" });
    if (this.emit("beforechange", e), e.aborted)
      return true;
  }
  onhashchange(t) {
    return this.emit("hashchange", this[fe] = this[Mt].location.hash), C();
  }
  setup() {
    this.onclick = this.onclick.bind(this), this.onhashchange = this.onhashchange.bind(this);
    let t = globalThis.window;
    return this[fe] = this[Mt].location.hash, this.location = U.parse(this.realpath, this), t.onpopstate = this.onpopstate.bind(this), t.onbeforeunload = this.onbeforeunload.bind(this), t.addEventListener("hashchange", this.onhashchange), t.addEventListener("click", this.onclick, { capture: true }), t.document.documentElement.emit("routerinit", this), this.refresh, this;
  }
  onclick(t) {
    if (t.metaKey || t.altKey)
      return;
    let e = null, r = null, s = t.target;
    for (; s && (!e || !r); )
      !e && s.nodeName == "A" && (e = s), !r && s[B] && (r = s), s = s.parentNode;
    if (e && r != e && (!r || r.contains(e))) {
      let n = e.getAttribute("href");
      n && !n.match(/\:\/\//) && (!e.getAttribute("target") || e.getAttribute("target") == "_self") && !e.classList.contains("external") && e.addEventListener("click", this.onclicklink.bind(this), { once: true });
    }
    return true;
  }
  onclicklink(t) {
    let e = t.currentTarget || t.target;
    e[B] && e[B].resolve();
    let r = e.getAttribute("href"), s = new URL(e.href), n = s.href.slice(s.origin.length), o = this.realpath.split("#")[0], l = n.split("#")[0];
    return o == l ? globalThis.document.location.hash = s.hash : e[B] ? e[B].go() : this.go(n), t.stopPropagation(), t.preventDefault();
  }
  get url() {
    return this.location.url;
  }
  get path() {
    let t = this.location.path;
    return this.aliases[t] || t;
  }
  get pathname() {
    return this.location.pathname;
  }
  serializeParams(t) {
    var e;
    if (t instanceof Object) {
      e = [];
      for (let s = 0, n = Object.keys(t), o = n.length, l, h; s < o; s++)
        l = n[s], h = t[l], e.push([l, globalThis.encodeURI(h)].join("="));
      return e.join("&");
    }
    return t || "";
  }
  get hash() {
    return this[fe];
  }
  set hash(t) {
    this.history.replaceState(this.state, null, "#" + this.serializeParams(t));
  }
  match(t) {
    return this.route(t).match(this.path);
  }
  route(t) {
    return this.root.route(t);
  }
  go(t, e = null) {
    if (typeof t == "object" && e === null && (e = t, t = this.path), typeof t == "number")
      return globalThis.history.go(t), this;
    let r = this.location.clone().update(t), s = this.history.buildState(e, r.path, true);
    return this.refresh({ push: true, mode: "push", location: r, state: s, apply: [s] }), this;
  }
  replace(t, e = null) {
    typeof t == "object" && e === null && (e = t, t = this.path);
    let r = this.location.clone().update(t), s = this.history.buildState(e, r.path, false);
    return this.refresh({ replace: true, mode: "replace", location: r, state: s, apply: [s] });
  }
};
dr[Nl]();
var pr = class {
  constructor(t, e, r, s = {}) {
    this.parent = r, this.node = t, this[ce] = e, this[tt] = null, this[de] = s, this[ua] = {}, this[vl] = {}, this[gt] = null, this[aa] = null, this[fa] = Symbol(), this[ca] = Symbol(), this[pe] = Symbol();
  }
  get router() {
    return this.node.ownerDocument.router;
  }
  get route() {
    return (this.parent ? this.parent.route : this.router).route(this[ce]);
  }
  get match() {
    return this[tt];
  }
  get params() {
    return this[tt] || this[vl];
  }
  get state() {
    let t = this[Dt] || (this[Dt] = /* @__PURE__ */ new Map()), e = this.params, r = this[Dt].get(e);
    return r || this[Dt].set(e, r = {}), r;
  }
  set state(t) {
    (this[Dt] || (this[Dt] = /* @__PURE__ */ new Map())).set(this.params, t);
  }
  set path(t) {
    this[ce] != t && (this[ce] = t, true) && this.router.touch();
  }
  get path() {
    return this[ce];
  }
  get isActive() {
    return !!this[gt];
  }
  get active\u03A6() {
    return !!this[gt];
  }
  resolve() {
    let t = this.router[nt];
    if (!(this[nt] != t && (this[nt] = t, true)))
      return;
    let e = this.route, r = this[de], s = this.router.path, n = e.match(s), o = this[gt], l = this[tt], h = n != l, u = n && n[this[pe]];
    return n && (this[gt] = true, this[tt] = n, n[this[pe]] = s), n && (h || u != s || !o) && this[ss](n, l, u), !o && n && this[is](), !n && (o || o === null) && (this[gt] = false, this[cr]()), this[tt];
  }
  [is]() {
    var t, e;
    return this.node.flags.remove("not-routed"), this.node.flags.add("routed"), (e = (t = this.node) == null ? void 0 : t.routeDidEnter) == null ? void 0 : e.call(t, this);
  }
  [ss](t, e, r = "") {
    var s, n;
    return (n = (s = this.node) == null ? void 0 : s.routeDidResolve) == null ? void 0 : n.call(s, this, t, e, r);
  }
  [cr]() {
    var t, e;
    return this.node.flags.add("not-routed"), this.node.flags.remove("routed"), (e = (t = this.node) == null ? void 0 : t.routeDidLeave) == null ? void 0 : e.call(t, this);
  }
};
var os = class extends pr {
  [is]() {
    return this;
  }
  [ss]() {
    return this;
  }
  [cr]() {
    return this;
  }
  resolve() {
    let t = this.router[nt];
    if (!(this[nt] != t && (this[nt] = t, true)))
      return;
    let e = this[de], r = this.route, s = this.router.path, n = this.route.resolve(s), o = this.route.match(s);
    o && (this[tt] = o, this[tt][this[pe]] = s), e.sticky && this[tt] && (n = this[tt][this[pe]]), this[fr] != n && (this[fr] = n, true) && this.node.nodeName == "A" && this.node.setAttribute("href", n), this.node.flags.toggle("active", !!o);
  }
  go() {
    return this.resolve(), this[de] && this[de].replace ? this.router.replace(this[fr]) : this.router.go(this[fr]);
  }
};
var ls = class {
  get router() {
    return this.ownerDocument.router;
  }
};
us(j.prototype, ls.prototype);
var hs = class {
  set route(t) {
    if (this[A]) {
      this[A].path = t;
      return;
    }
    let e = t[0] != "/" ? this[Sl].route : null;
    this[A] = new pr(this, t, e, this.route__), this[xl] = this[gl];
  }
  get route() {
    return this[A];
  }
  set route\u039Eto(t) {
    var e = this;
    if (this[B]) {
      this[B].path = t;
      return;
    }
    let r = t[0] != "/" ? this[Sl].route : null;
    this[A] = this[B] = new os(this, t, r, this.routeTo__), this[xl] = this[yl], e.onclick = function(s) {
      if (!s.altKey && !s.metaKey && !s[wl])
        return s.preventDefault(), s[wl] = e[B], e[B].go();
    };
  }
  [gl]() {
    if (this[A]) {
      let t = this[da], e = t && t[pa];
      if (e && e.matchedRoute && e.matchedRoute != this[A]) {
        this[A][gt] != false && (this[A][gt] = false, true) && (this[A][cr](), this[A][nt] = -1);
        return;
      }
      if (this[A].resolve(), this[A].active\u03A6)
        e.matchedRoute = this[A];
      else
        return;
    }
    if (this.visit && this.visit(), this[Tl])
      return this[Tl] = null;
  }
  [yl]() {
    if (this[B] && this[B].resolve(), this.visit)
      return this.visit();
  }
  routeDidEnter(t) {
    return this[ma]();
  }
  routeDidLeave(t) {
    return this[ga]();
  }
  routeDidResolve(t, e, r) {
    var s = this;
    this.routed instanceof Function && e != r && s.router.queue.add(async function() {
      s.suspend();
      let n = await s.routed(e, t.state, r);
      return s.unsuspend();
    });
  }
};
us(b.prototype, hs.prototype);
function G(i) {
  let t;
  return i ? (t = i.toIterable) ? t.call(i) : i : [];
}
function Ts(i, t) {
  let e = Object.getOwnPropertyDescriptors(t);
  return delete e.constructor, Object.defineProperties(i, e), i;
}
var be = Symbol.for("##reactive");
var vt = Symbol.for("##referenced");
var ge = Symbol.for("##dereferenced");
var mr = Symbol.for("#map");
var Ol = Symbol.for("#__init__");
var gr = Symbol.for("#child");
var me = Symbol.for("#reactions");
var as = Symbol.for("#promise");
var T = { TOUCHING: 1 << 1, STALE: 1 << 2, OBJECT: 1 << 3, RUNNING: 1 << 4, INVALIDATING: 1 << 5, POSSIBLY_STALE: 1 << 6, AUTORUN: 1 << 7 };
var F = 0;
var Pl = false;
var ya = 0;
var Fl = 1;
var Es = { META: /* @__PURE__ */ new Map(), VALUE: /* @__PURE__ */ new Map(), REF: /* @__PURE__ */ new Map() };
var V = Symbol.for("~");
var Ml = Symbol.for("~~");
var Ns = function(i, t) {
  return t.has(i) || t.set(i, Symbol()), t.get(i);
};
var _r = function(i) {
  return typeof i == "symbol" ? Ns(i, Es.VALUE) : Symbol.for(i);
};
var Cs = function(i) {
  return typeof i == "symbol" ? Ns(i, Es.META) : Symbol.for("#" + i + "__");
};
var Os = function(i) {
  return typeof i == "symbol" ? Ns(i, Es.REF) : Symbol.for("~" + i);
};
var N = function(i, t) {
  return F && w.add(i[V]), t;
};
var H = function(i, t) {
  return i[V].invalidated(0), t;
};
var At = function(i, t, e) {
  let r = i[V];
  return r || (r = i[V] = new _e(T.OBJECT), Object.defineProperties(i, e)), t && r.addSubscriber(t), i;
};
var Ps = function(i, t) {
  let e = i[V];
  return e && e.removeSubscriber(t), i;
};
var fs = class {
  constructor(t) {
    this.changes = /* @__PURE__ */ new Map(), this.cleanup(), t && this.reset(t);
  }
  reset(t = []) {
    return this.array = t, this.initialLength = t.length;
  }
  cleanup() {
    return this.idx = 0, this.array = null, this.changes.clear(), this.dirty = false;
  }
  push(t) {
    if (this.initialLength == 0) {
      this.array.indexOf(t) < 0 && (this.changes.set(t, 1), this.array.push(t), this.idx++);
      return;
    }
    let e = this.array[this.idx];
    if (e === t)
      return ++this.idx;
    {
      let r = this.array.indexOf(t), s = this.changes.get(t);
      if (r === -1)
        this.array.splice(this.idx, 0, t), this.changes.set(t, 1), this.idx++;
      else if (r === this.idx + 1)
        e && this.changes.set(e, -1), this.array.splice(this.idx, 1), ++this.idx;
      else {
        if (r < this.idx)
          return;
        r > this.idx && this.array.splice(r, 1), this.array.splice(this.idx, 0, t);
      }
      if (s == -1)
        return this.changes.delete(t);
    }
  }
  end() {
    if (this.array.length >= this.idx)
      for (; this.array.length > this.idx; )
        this.changes.set(this.array.pop(), -1);
    return this.array;
  }
  patch() {
    return this.end();
  }
};
function ks(i) {
  var t, e;
  let r = Object.getOwnPropertyDescriptors(i.prototype);
  return t = r.name, delete r.name, e = r.constructor, delete r.constructor, r;
}
function _a() {
  if (Pl != true && (Pl = true, true))
    return $s.on("inited", function(i) {
      let t = i[Ml];
      if (t) {
        let e = i instanceof j, r = i[V] || (i[V] = {});
        for (let s = 0, n = Object.keys(t), o = n.length, l, h; s < o; s++) {
          l = n[s], h = t[l];
          let u = r[l] = new xt(i[l], i, h);
          e || u.call();
        }
        e && (R(i, "mount", function() {
          var s;
          s = [];
          for (let n = 0, o = G(Object.values(r)), l = o.length; n < l; n++) {
            let h = o[n];
            s.push(h instanceof xt && h.activate());
          }
          return s;
        }), R(i, "unmount", function() {
          var s;
          s = [];
          for (let n = 0, o = G(Object.values(r)), l = o.length; n < l; n++) {
            let h = o[n];
            s.push(h instanceof xt && h.deactivate());
          }
          return s;
        }));
      }
    });
}
function ba(i, t = Ml) {
  return i.hasOwnProperty(t) || (i[t] = Object.assign({}, i[t] || {})), i[t];
}
var ye = class {
  constructor(t, e = 0) {
    this.depth = e, this.parent = t, this.target = null, this.patcher = new fs();
  }
  get active\u03A6() {
    return w == this;
  }
  get root\u03A6() {
    return this == St;
  }
  get snapshot() {
    let t = [], e = this[gr];
    for (; e && e.target; )
      t.push({ depth: e.depth, target: e.target, beacon: e.beacon }), e = e[gr];
    return t;
  }
  reset(t) {
    return this.tracking = true, this.target = t, this.beacon = t.beacon, this.patcher.reset(t.observing || (t.observing = [])), this;
  }
  add(t) {
    if (this.tracking && t)
      return this.patcher.push(t);
  }
  react(t) {
    return St.reactions.add(t);
  }
  push(t) {
    return w = this.child.reset(t);
  }
  pop() {
    let t = null;
    if (this.beacon) {
      t = this.patcher.end();
      let e = this.patcher.changes;
      if (e.size)
        for (let [s, n] of G(e))
          n === 1 ? s.addSubscriber(this.beacon) : s.removeSubscriber(this.beacon);
    }
    return this.patcher.cleanup(), this.target = this.beacon = null, w = this.parent, w == St && St.flush(), t;
  }
  get child() {
    return this[gr] || (this[gr] = new ye(this, this.depth + 1));
  }
  get reactions() {
    return this[me] || (this[me] = /* @__PURE__ */ new Set());
  }
  flush() {
    if (!this[me])
      return;
    let t = this[me];
    this[me] = null;
    for (let e of G(t))
      e.call();
  }
};
var cs = class extends ye {
  add() {
    return true;
  }
};
var w = new cs(null, 0);
var St = w;
var va = function() {
  return w.tracking = false;
};
var Dl = function(i, t, e, r, s) {
  let n = i[e], o = i[s];
  return o || (o = i[s] = new _e(0, r, n, t)), w.add(o, i), n;
};
var Al = function(i, t, e, r, s, n) {
  let o = i[e];
  if (r != o) {
    i[e] = r;
    let l = i[n];
    l && l.changed(0, r, o);
  }
};
var _e = class {
  constructor(t, e, r, s) {
    return this.id = Fl++, this.observer = null, this.observers = null, r && r[vt] && r[vt](this), this;
  }
  changed(t, e, r) {
    if (ya++, r && r[ge] && r[ge](this, e), e && e[vt] && e[vt](this, r), this.observer && this.observer.invalidated(t + 1, this, e, r), this.observers)
      for (let s = 0, n = G(this.observers), o = n.length; s < o; s++)
        n[s].invalidated(t + 1, this, e, r);
    w == St && w.flush();
  }
  invalidated(t, e) {
    if (this.observer && this.observer.invalidated(t + 1, this), this.observers)
      for (let r = 0, s = G(this.observers), n = s.length; r < n; r++)
        s[r].invalidated(t + 1, this);
    return t == 0 && w == St && w.flush(), true;
  }
  addSubscriber(t) {
    this.observer ? (this.observers || (this.observers = []), this.observers.push(t)) : this.observer = t;
  }
  removeSubscriber(t) {
    if (this.observer == t)
      return this.observer = null;
    let e = this.observers, r = e.indexOf(t);
    r >= 0 && e.splice(r, 1);
  }
  reportChanged() {
    return this.changed(0);
  }
  reportObserved() {
    return w.add(this);
  }
};
function pd(i) {
  return new _e(null, null, null, i);
}
var ds = class extends Array {
  push() {
    return H(this, super.push(...arguments));
  }
  pop() {
    return H(this, super.pop(...arguments));
  }
  unshift() {
    return H(this, super.unshift(...arguments));
  }
  shift() {
    return H(this, super.shift(...arguments));
  }
  splice() {
    return H(this, super.splice(...arguments));
  }
  at() {
    return N(this, super.at(...arguments));
  }
  map() {
    return N(this, super.map(...arguments));
  }
  flatMap() {
    return N(this, super.flatMap(...arguments));
  }
  flat() {
    return N(this, super.flat(...arguments));
  }
  filter() {
    return N(this, super.filter(...arguments));
  }
  find() {
    return N(this, super.find(...arguments));
  }
  slice() {
    return N(this, super.slice(...arguments));
  }
  sort() {
    return N(this, super.sort(...arguments));
  }
  get len() {
    return N(this, this.length);
  }
  set len(t) {
    this.length = t, H(this);
  }
  toIterable() {
    return F && w.add(this[V]), this;
  }
  [Symbol.iterator]() {
    return N(this, super[Symbol.iterator](...arguments));
  }
};
var kl = ks(ds);
var ps = class {
  get len() {
    return this.length;
  }
  set len(t) {
    this.length = t;
  }
  get [be]() {
    return At(this, null, kl);
  }
  [vt](t) {
    return At(this, t, kl);
  }
  [ge](t) {
    return Ps(this, t);
  }
};
Ts(Array.prototype, ps.prototype);
var ms = class extends Set {
  has() {
    return N(this, super.has(...arguments));
  }
  keys() {
    return N(this, super.keys(...arguments));
  }
  values() {
    return N(this, super.values(...arguments));
  }
  entries() {
    return N(this, super.entries(...arguments));
  }
  add() {
    return H(this, super.add(...arguments));
  }
  clear() {
    return H(this, super.clear(...arguments));
  }
  delete() {
    return H(this, super.delete(...arguments));
  }
};
var Ll = ks(ms);
var gs = class {
  get [be]() {
    return At(this, null, Ll);
  }
  [vt](t) {
    return At(this, t, Ll);
  }
  [ge](t) {
    return Ps(this, t);
  }
};
Ts(Set.prototype, gs.prototype);
var ys = class extends Map {
  get() {
    return N(this, super.get(...arguments));
  }
  has() {
    return N(this, super.has(...arguments));
  }
  keys() {
    return N(this, super.keys(...arguments));
  }
  values() {
    return N(this, super.values(...arguments));
  }
  entries() {
    return N(this, super.entries(...arguments));
  }
  set() {
    return H(this, super.set(...arguments));
  }
  clear() {
    return H(this, super.clear(...arguments));
  }
  delete() {
    return H(this, super.delete(...arguments));
  }
};
var Il = ks(ys);
var _s = class {
  get [be]() {
    return At(this, null, Il);
  }
  [vt](t) {
    return At(this, t, Il);
  }
  [ge](t) {
    return Ps(this, t);
  }
};
Ts(Map.prototype, _s.prototype);
var bs = class {
  constructor(t, e = {}) {
    var r = this, s;
    this.name = t, this.options = e;
    let n = this.key = _r(t), o = Os(t), l = r.descriptor = { enumerable: (s = e.enumerable) != null ? s : true, configurable: false, get: function() {
      return F ? Dl(this, t, n, r, o) : this[n];
    }, set: function(u) {
      return F || !!this[o] ? Al(this, t, n, u, r, o) : this[n] = u;
    } }, h = r.lazyDescriptor = { enumerable: false, configurable: true, get: function() {
      return F ? (Object.defineProperty(this, t, l), this[t]) : this[n];
    }, set: function(u) {
      return this[n] = u, this[o] = null, Object.defineProperty(this, t, l);
    } };
  }
};
var vs = class {
  constructor(t = null) {
    this[Ol](t);
  }
  [Ol](t = null) {
    var e;
    this[mr] = t && (e = t[mr]) !== void 0 ? e : /* @__PURE__ */ new Map();
  }
  for(t) {
    let e = this[mr].get(t);
    return e || this[mr].set(t, e = []), e;
  }
  get(t) {
    let e = this.for(t);
    return e[V] || e[be], F && N(e), e;
  }
  add(t, e) {
    return this.for(t).push(e);
  }
  delete(t, e) {
    let r = this.for(t), s = r.indexOf(e);
    r.splice(s, 1);
  }
};
var Ss = class {
  constructor(t, e) {
    var r = this;
    this.name = t, this.key = e, this.index = new vs();
    let s = Os(t), n = r.descriptor = { enumerable: true, configurable: false, get: function() {
      return F ? Dl(this, t, e, r, s) : this[e];
    }, set: function(l) {
      let h = this[e];
      if (F || !!this[s] ? Al(this, t, e, l, r, s) : this[e] = l, h != l && (h && r.index.delete(h, this), l))
        return r.index.add(l, this);
    } }, o = r.lazyDescriptor = { set: function(l) {
      return this[e] = l, l && r.index.add(l, this), Object.defineProperty(this, t, n), this[s] = null;
    } };
  }
  where(t) {
    return this.index.get(t);
  }
};
var Rt = class {
  constructor(t, e, r) {
    this.observing = null, this.observers = null, this.flags = 68, this.target = t, this.func = e, this.vkey = r, this.version = 0;
  }
  get beacon() {
    return this;
  }
  addSubscriber(t) {
    this.observer ? (this.observers || (this.observers = []), this.observers.push(t)) : this.observer = t;
  }
  removeSubscriber(t) {
    if (this.observer == t)
      return this.observer = null;
    let e = this.observers, r = e.indexOf(this);
    r >= 0 && e.splice(r, 1);
  }
  invalidated(t, e) {
    if (this.flags |= T.STALE | T.POSSIBLY_STALE, this.observer && this.observer.invalidated(t, this), !!this.observers) {
      for (let r = 0, s = G(this.observers), n = s.length; r < n; r++)
        s[r].invalidated(t, this);
      return this;
    }
  }
  value() {
    if (F && w.add(this), (this.flags & T.POSSIBLY_STALE) == 0)
      return this.target[this.vkey];
    F++, this.flags |= T.RUNNING, w.push(this);
    let t = this.func.call(this.target);
    w.pop(this);
    let e = this.target[this.vkey];
    return this.target[this.vkey] = t, this.flags &= ~(T.STALE | T.POSSIBLY_STALE | T.RUNNING), t !== e && this.version++, F--, t;
  }
};
var xs = class {
  constructor(t, e) {
    this.name = t;
    let r = Os(t), s = _r(t), n = this.descriptor = { enumerable: false, configurable: false, get: function() {
      return this[r].value();
    } }, o = this.lazyDescriptor = { enumerable: false, get: function() {
      let l = this[r] = new Rt(this, e, s);
      return Object.defineProperty(this, t, n), l.value();
    } };
  }
};
var xt = class {
  get beacon() {
    return this;
  }
  constructor(t, e, r = {}) {
    this.cb = t, this.context = e, this.options = r, this.flags = 0, this.id = Fl++, this.cachedComputedVersions = /* @__PURE__ */ new WeakMap(), this.checkComputedValues = /* @__PURE__ */ new Set(), this.observing = [], this.timeout = null;
  }
  get running\u03A6() {
    return this.flags & T.RUNNING;
  }
  invalidated(t, e) {
    return e instanceof Rt ? (this.flags |= T.POSSIBLY_STALE, this.checkComputedValues.add(e)) : this.flags |= T.STALE, w.react(this);
  }
  activate() {
    return this.observing = [], this.cachedComputedVersions = /* @__PURE__ */ new WeakMap(), this.checkComputedValues = /* @__PURE__ */ new Set(), this.call(), this;
  }
  deactivate() {
    if (this.timeout && clearTimeout(this.timeout), this.observing)
      for (let t = 0, e = G(this.observing), r = e.length; t < r; t++)
        e[t].removeSubscriber(this);
    return this.observing = this.checkComputedValues = this.cachedComputedVersions = null, this;
  }
  call() {
    var t = this;
    if (F && console.warn("should not call reaction inside an autorunning context?", St.snapshot), this.flags & T.POSSIBLY_STALE && (this.flags & T.STALE) == 0) {
      let e = false;
      for (let r of G(this.checkComputedValues)) {
        let s = this.cachedComputedVersions.get(r);
        r.value();
        let n = r.version;
        if (s != n) {
          e = true;
          break;
        }
      }
      if (!e) {
        this.flags &= ~T.POSSIBLY_STALE, this.checkComputedValues.clear();
        return;
      }
    }
    if (this.options.delay) {
      clearTimeout(this.timeout);
      let e = this.options.delay;
      typeof e != "number" && (e = 1e3), t.timeout = setTimeout(function() {
        return t.run();
      }, e);
      return;
    }
    return t.run();
  }
  run() {
    F++, this.flags |= T.RUNNING;
    let t = w.push(this), e = this.cb.call(this.context, va), r = w.pop(this);
    this.observing = r, this.checkComputedValues.clear();
    for (let s = 0, n = G(r), o = n.length; s < o; s++) {
      let l = n[s];
      l instanceof Rt && this.cachedComputedVersions.set(l, l.version);
    }
    return this.flags &= ~(T.RUNNING | T.STALE | T.POSSIBLY_STALE), F--, this.options.silent || C(), e;
  }
  dispose() {
    return this.deactivate(), this.cb = this.context = this.options = null, this;
  }
};
var ws = class extends xt {
  resolve(t) {
    return this.deactivate(), this.resolved = t;
  }
  then(...t) {
    var e = this;
    return this.resolved !== void 0 ? Promise.resolve(this.resolved).then(...t) : (this[as] || (this[as] = new Promise(function(r) {
      return e.resolve = function(s) {
        return e.deactivate(), e.resolved = s, r(s);
      };
    })), this[as].then(...t));
  }
  run() {
    F++, this.flags |= T.RUNNING;
    let t = w.push(this), e = this.cb.call(this.context), r = w.pop(this);
    this.observing = r, this.checkComputedValues.clear();
    for (let s = 0, n = G(r), o = n.length; s < o; s++) {
      let l = n[s];
      l instanceof Rt && this.cachedComputedVersions.set(l, l.version);
    }
    return this.flags &= ~(T.RUNNING | T.STALE | T.POSSIBLY_STALE), F--, e != false && e != null && e != null && (this.resolve(e), this.options.silent || C()), e;
  }
};
var yr = class {
  constructor(t, e) {
    this.context = e, this.cb = t;
  }
  run(t = this.context, e = []) {
    w.push(this);
    let r = this.cb.apply(t, e);
    return w.pop(this), r;
  }
};
function md(i, t = {}) {
  let e = new xt(i, globalThis, t);
  return e.call(), e;
}
function gd(i, t = {}) {
  let e = new ws(i, globalThis, t);
  return e.call(), e;
}
function yd(i) {
  return i[be];
}
function _d(i) {
  return new yr(i, globalThis).run();
}
function bd(i) {
  return i && i[V] && i[V].invalidated(0), i;
}
function vd(i) {
  return i && i[V] && i[V].reportObserved(), i;
}
function Sd(i, t, e) {
  let r = Cs(t);
  return (i[r] = new xs(t, e.get)).lazyDescriptor;
}
function xd(i, t, e) {
  let r = Cs(t), s = _r(t), n = this[0] || {}, o = i[r] = new bs(t, n);
  return e ? (Object.defineProperty(i, s, Object.assign({}, e)), o.lazyDescriptor) : (Object.defineProperty(i, t, o.lazyDescriptor), null);
}
function wd(i, t, e) {
  let r = Cs(t);
  return i.constructor[t], (i[r] = new Ss(t, _r(t))).lazyDescriptor;
}
function Td(i, t, e) {
  let r = ba(i), s = this[0] || {};
  return s.flags = T.AUTORUN, _a(), r[t] = s, e;
}
function Ed(i, t, e) {
  if (e.value) {
    let r = new yr(e.value, null);
    e.value = function() {
      return r.run(this, arguments);
    };
  }
  return e;
}
function Cd(i, t, e, r, s, n) {
  return i && i.accessor instanceof Function ? i.accessor(t, e, r, s, n) : i;
}
export {
  mh as CUSTOM_TYPES,
  Ie as Comment,
  kt as Component,
  P as CustomEvent,
  Ht as Document,
  Ka as DocumentFragment,
  Je as Easer,
  b as Element,
  pr as ElementRoute,
  os as ElementRouteTo,
  $t as Emitter,
  W as Event,
  vi as EventHandler,
  lt as Fragment,
  Sn as HTMLButtonElement,
  zr as HTMLElement,
  za as HTMLHtmlElement,
  bn as HTMLInputElement,
  xn as HTMLOptionElement,
  Va as HTMLScriptElement,
  _n as HTMLSelectElement,
  vn as HTMLTextAreaElement,
  wf as ImbaElement,
  Li as IntersectionEventDefaults,
  yn as KeyboardEvent,
  Sr as LazyProxy,
  mn as MouseEvent,
  j as Node,
  gn as PointerEvent,
  Y as RenderContext,
  dr as Router,
  wn as SVGElement,
  Tr as Scheduler,
  Ua as ShadowRoot,
  Fr as TYPES,
  qr as Text,
  qa as UIEvent,
  Ba as Window,
  Cd as accessor,
  md as autorun,
  gd as awaits,
  Zl as clearInterval,
  th as clearTimeout,
  Cf as colors,
  C as commit,
  pd as createAtom,
  ot as createComment,
  vh as createComponent,
  Qa as createDynamic,
  Wa as createElement,
  Xa as createFragment,
  af as createIndexedList,
  mf as createKeyedList,
  of as createLiveFragment,
  Ys as createRenderContext,
  Ga as createSVGElement,
  je as createSlot,
  Vr as createTextNode,
  Ha as customElements,
  tf as defineTag,
  $ as emit,
  sc as events,
  we as getDeepPropertyDescriptor,
  Ma as getRenderContext,
  Za as getSuperTagType,
  Sh as getTagType,
  Fe as get_document,
  $s as hooks,
  Qu as hotkeys,
  xf as hydrate,
  R as listen,
  zc as locals,
  Qh as mount,
  yd as observable,
  D as once,
  jt as parseTime,
  Ms as proxy,
  If as render,
  L as renderContext,
  zt as renderer,
  bd as reportChanged,
  vd as reportObserved,
  nd as router,
  _d as run,
  k as scheduler,
  La as serve,
  nl as session,
  Jl as setInterval,
  Ql as setTimeout,
  Gh as styles,
  xa as toCamelCase,
  pi as transitions,
  yt as unlisten,
  Jh as unmount,
  Af as use_dom_bind,
  zf as use_dom_teleport,
  Bf as use_dom_transitions,
  nc as use_events,
  Fc as use_events_hotkey,
  bc as use_events_intersect,
  mo as use_events_keyboard,
  Ze as use_events_mouse,
  cc as use_events_pointer,
  wc as use_events_resize,
  Cc as use_events_selection,
  gc as use_events_touch,
  Ca as use_hooks,
  sd as use_router,
  nf as use_slots,
  Of as use_styles,
  Ya as use_window,
  Ed as \u03B1action,
  Td as \u03B1autorun,
  Sd as \u03B1computed,
  Pa as \u03B1lazy,
  xd as \u03B1observable,
  wd as \u03B1ref
};
//# sourceMappingURL=imba.js.map
